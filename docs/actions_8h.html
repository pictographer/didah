<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Didah Morse Code PDA/Appliance: actions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Didah Morse Code PDA/Appliance
   &#160;<span id="projectnumber">1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">actions.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Application-specific actions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;Arduino.h&quot;</code><br />
<code>#include &quot;<a class="el" href="libmorse_8h_source.html">libmorse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="morse__token_8h_source.html">morse_token.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for actions.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="actions_8h__incl.svg" width="100%" height="552"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="actions_8h__dep__incl.svg" width="100%" height="440"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="actions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Predicates</div></td></tr>
<tr class="memitem:abd38bb78976b90080e7b551141760088"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd38bb78976b90080e7b551141760088"></a>
typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><b>IntPredicate</b>) (int)</td></tr>
<tr class="separator:abd38bb78976b90080e7b551141760088"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a492edd5621b1b6f219c1138beb303fe1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a492edd5621b1b6f219c1138beb303fe1"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>getVersion</b> ()</td></tr>
<tr class="separator:a492edd5621b1b6f219c1138beb303fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7f936c10ce844cabda3cc094b91921"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d7f936c10ce844cabda3cc094b91921"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a9d7f936c10ce844cabda3cc094b91921">getAlarmState</a> ()</td></tr>
<tr class="memdesc:a9d7f936c10ce844cabda3cc094b91921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the low-voltage alarm state. This determines the message format and repetition interval. Returns 'V' for low, '^' for high, and '-' for nominal. <br /></td></tr>
<tr class="separator:a9d7f936c10ce844cabda3cc094b91921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541af7173fdd432ce4e803950a82d311"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a541af7173fdd432ce4e803950a82d311"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a541af7173fdd432ce4e803950a82d311">setAlarmState</a> (char state)</td></tr>
<tr class="memdesc:a541af7173fdd432ce4e803950a82d311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the low-voltage alarm state. This determines the message format and repetition interval. <br /></td></tr>
<tr class="separator:a541af7173fdd432ce4e803950a82d311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8c3769e2aa32a2da9e2f3f85ac73dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b8c3769e2aa32a2da9e2f3f85ac73dd"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a2b8c3769e2aa32a2da9e2f3f85ac73dd">getVoltagePollInterval</a> ()</td></tr>
<tr class="memdesc:a2b8c3769e2aa32a2da9e2f3f85ac73dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A sample ADC reading is taken each time through the main loop, and written to a ring buffer. The samples are only filtered and converted to a voltage once every poll interval. <br /></td></tr>
<tr class="separator:a2b8c3769e2aa32a2da9e2f3f85ac73dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da0aacad52707defcc8db8be6a21b8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7da0aacad52707defcc8db8be6a21b8c"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a7da0aacad52707defcc8db8be6a21b8c">getIntervalForState</a> ()</td></tr>
<tr class="memdesc:a7da0aacad52707defcc8db8be6a21b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the announcement interval for the current alarm state. <br /></td></tr>
<tr class="separator:a7da0aacad52707defcc8db8be6a21b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b76158e4805ae5426e51c42f6f265a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3b76158e4805ae5426e51c42f6f265a"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#ae3b76158e4805ae5426e51c42f6f265a">getFormatForState</a> ()</td></tr>
<tr class="memdesc:ae3b76158e4805ae5426e51c42f6f265a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the alarm format for the current alarm state. <br /></td></tr>
<tr class="separator:ae3b76158e4805ae5426e51c42f6f265a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dda4125d9a3fc8abbc9b2803e4497c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dda4125d9a3fc8abbc9b2803e4497c4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a4dda4125d9a3fc8abbc9b2803e4497c4">txRaw</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a4dda4125d9a3fc8abbc9b2803e4497c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the raw analog input. <br /></td></tr>
<tr class="separator:a4dda4125d9a3fc8abbc9b2803e4497c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Operations</div></td></tr>
<tr class="memitem:a5396567e85aa94852a84b3fff96369b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5396567e85aa94852a84b3fff96369b9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a5396567e85aa94852a84b3fff96369b9">txSymbolStackTop</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a5396567e85aa94852a84b3fff96369b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the top element of the stack. <br /></td></tr>
<tr class="separator:a5396567e85aa94852a84b3fff96369b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6436621df3b98909e885083436d6b9e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6436621df3b98909e885083436d6b9e2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a6436621df3b98909e885083436d6b9e2">txListSymbolStack</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a6436621df3b98909e885083436d6b9e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">List the contents of the symbol stack. <br /></td></tr>
<tr class="separator:a6436621df3b98909e885083436d6b9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabb3ac0c23f35a499bc17efe829f326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaabb3ac0c23f35a499bc17efe829f326"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aaabb3ac0c23f35a499bc17efe829f326">txTimeHHMM</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:aaabb3ac0c23f35a499bc17efe829f326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the 24-hr time. <br /></td></tr>
<tr class="separator:aaabb3ac0c23f35a499bc17efe829f326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f54a5ad42f85a2394de363b9ea12c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#af2f54a5ad42f85a2394de363b9ea12c1">txTimeVerbose</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:af2f54a5ad42f85a2394de363b9ea12c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02149679fa3cc6a4957d1a318408ffd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad02149679fa3cc6a4957d1a318408ffd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#ad02149679fa3cc6a4957d1a318408ffd">txUptime</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:ad02149679fa3cc6a4957d1a318408ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the uptime. <br /></td></tr>
<tr class="separator:ad02149679fa3cc6a4957d1a318408ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7250e2a10954515bd25b75aa6b929dd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7250e2a10954515bd25b75aa6b929dd0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a7250e2a10954515bd25b75aa6b929dd0">txInternalTemperatureC</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a7250e2a10954515bd25b75aa6b929dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the internal temperature as an integer in Celsius. <br /></td></tr>
<tr class="separator:a7250e2a10954515bd25b75aa6b929dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8631f5b2d7b56da3dcb2f14b372a263"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8631f5b2d7b56da3dcb2f14b372a263"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aa8631f5b2d7b56da3dcb2f14b372a263">txInternalTemperatureF</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:aa8631f5b2d7b56da3dcb2f14b372a263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the internal temperature in integer in Fahrenheit. <br /></td></tr>
<tr class="separator:aa8631f5b2d7b56da3dcb2f14b372a263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cd3e1b2a19dc7fc00e94af138ebce2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10cd3e1b2a19dc7fc00e94af138ebce2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a10cd3e1b2a19dc7fc00e94af138ebce2">txMacAddress</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a10cd3e1b2a19dc7fc00e94af138ebce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the mac address. <br /></td></tr>
<tr class="separator:a10cd3e1b2a19dc7fc00e94af138ebce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d867ac633d6976afcbf1180e2123a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68d867ac633d6976afcbf1180e2123a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a68d867ac633d6976afcbf1180e2123a5">slowDown</a> ()</td></tr>
<tr class="memdesc:a68d867ac633d6976afcbf1180e2123a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the unit time by 5000 microseconds. <br /></td></tr>
<tr class="separator:a68d867ac633d6976afcbf1180e2123a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40eae45b6e35fc4fdff30b28d2aca4fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40eae45b6e35fc4fdff30b28d2aca4fe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a40eae45b6e35fc4fdff30b28d2aca4fe">speedUp</a> ()</td></tr>
<tr class="memdesc:a40eae45b6e35fc4fdff30b28d2aca4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease the unit time by 5000 microseconds. <br /></td></tr>
<tr class="separator:a40eae45b6e35fc4fdff30b28d2aca4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ab0754fc086c5192a892f045ab3a29"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5ab0754fc086c5192a892f045ab3a29"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#af5ab0754fc086c5192a892f045ab3a29">txAR</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:af5ab0754fc086c5192a892f045ab3a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the <em>AR</em> prosign three times. <br /></td></tr>
<tr class="separator:af5ab0754fc086c5192a892f045ab3a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad095efd293f9cbc1a7ab301e03954e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ad095efd293f9cbc1a7ab301e03954e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a9ad095efd293f9cbc1a7ab301e03954e">txEcho</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a9ad095efd293f9cbc1a7ab301e03954e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit II &lt;code&gt; <em>AR</em>. <br /></td></tr>
<tr class="separator:a9ad095efd293f9cbc1a7ab301e03954e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7cb6d14d9e723cdaf5e51f1265906f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f7cb6d14d9e723cdaf5e51f1265906f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a6f7cb6d14d9e723cdaf5e51f1265906f">txGreeting</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a6f7cb6d14d9e723cdaf5e51f1265906f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit CQ CQ CQ DE ET1 ET1 K. <br /></td></tr>
<tr class="separator:a6f7cb6d14d9e723cdaf5e51f1265906f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39383c189ec39df4fe9337c5edc98c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aa39383c189ec39df4fe9337c5edc98c2">getPressure</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:aa39383c189ec39df4fe9337c5edc98c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb54685ddb3c45facf6daadcc4a5f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a7cb54685ddb3c45facf6daadcc4a5f4b">printLog</a> ()</td></tr>
<tr class="memdesc:a7cb54685ddb3c45facf6daadcc4a5f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the current settings and sensor values via the serial port.  <a href="#a7cb54685ddb3c45facf6daadcc4a5f4b">More...</a><br /></td></tr>
<tr class="separator:a7cb54685ddb3c45facf6daadcc4a5f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb93e25e95d089d3e1c79baf4a71b594"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb93e25e95d089d3e1c79baf4a71b594"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aeb93e25e95d089d3e1c79baf4a71b594">printBanner</a> ()</td></tr>
<tr class="memdesc:aeb93e25e95d089d3e1c79baf4a71b594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print documentation for the commands via the serial port. <br /></td></tr>
<tr class="separator:aeb93e25e95d089d3e1c79baf4a71b594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142b42f94ccf46a7a9706fe9b63b4501"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a142b42f94ccf46a7a9706fe9b63b4501">setVolume</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a142b42f94ccf46a7a9706fe9b63b4501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to control the output volume but adjusting the PWM duty cycle.  <a href="#a142b42f94ccf46a7a9706fe9b63b4501">More...</a><br /></td></tr>
<tr class="separator:a142b42f94ccf46a7a9706fe9b63b4501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929cef8463968746bf3e3198d96e15a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a929cef8463968746bf3e3198d96e15a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a929cef8463968746bf3e3198d96e15a1">txHelp</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a929cef8463968746bf3e3198d96e15a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit help text. <br /></td></tr>
<tr class="separator:a929cef8463968746bf3e3198d96e15a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1653963283d3235280327ec65629ef7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1653963283d3235280327ec65629ef7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#ac1653963283d3235280327ec65629ef7">txMenu</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:ac1653963283d3235280327ec65629ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit a tersely-worded command list. <br /></td></tr>
<tr class="separator:ac1653963283d3235280327ec65629ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395ec10538b43bf0543c55595fe2df68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a395ec10538b43bf0543c55595fe2df68"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a395ec10538b43bf0543c55595fe2df68">txSettings</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="memdesc:a395ec10538b43bf0543c55595fe2df68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the current settings and sensor values. <br /></td></tr>
<tr class="separator:a395ec10538b43bf0543c55595fe2df68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Aural Feedback</div></td></tr>
<tr class="memitem:a84cfecc2ad5d97d5db65575c3a6109b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a84cfecc2ad5d97d5db65575c3a6109b3">txTick</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:a84cfecc2ad5d97d5db65575c3a6109b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a40d808c3c5af59aa2e847188d1309"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0a40d808c3c5af59aa2e847188d1309"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aa0a40d808c3c5af59aa2e847188d1309">txTiTick</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:aa0a40d808c3c5af59aa2e847188d1309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a brief pair high-pitched chirps. <br /></td></tr>
<tr class="separator:aa0a40d808c3c5af59aa2e847188d1309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c96858d186454308e53fe7bb3abd07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a65c96858d186454308e53fe7bb3abd07">txTock</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:a65c96858d186454308e53fe7bb3abd07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Morse Code Input</div></td></tr>
<tr class="memitem:a578278ac08b3288454ac5a86fbb15d76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a578278ac08b3288454ac5a86fbb15d76">readRange</a> (uint32_t &amp;result, const char *prompt, uint32_t minimum, uint32_t maximum)</td></tr>
<tr class="memdesc:a578278ac08b3288454ac5a86fbb15d76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompt for a value from the serial port.  <a href="#a578278ac08b3288454ac5a86fbb15d76">More...</a><br /></td></tr>
<tr class="separator:a578278ac08b3288454ac5a86fbb15d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5082fe1b057ad10a1a5baef95b0c87b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5082fe1b057ad10a1a5baef95b0c87b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a5082fe1b057ad10a1a5baef95b0c87b8">readEdit</a> (char *buffer, bool &amp;isNotTooLate, const char *end, IntPredicate isIncluded, uint32_t timeout)</td></tr>
<tr class="memdesc:a5082fe1b057ad10a1a5baef95b0c87b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a line from the serial port with support for rubbing out preceding characters. <br /></td></tr>
<tr class="separator:a5082fe1b057ad10a1a5baef95b0c87b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad756bcfcbe405b56b23e3b640b49d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ad756bcfcbe405b56b23e3b640b49d2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a2ad756bcfcbe405b56b23e3b640b49d2">readLine</a> (char *buffer, size_t n, uint32_t timeout=60000000)</td></tr>
<tr class="memdesc:a2ad756bcfcbe405b56b23e3b640b49d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a string from the serial terminal up to a return or the end of the buffer. Return false if timeout milliseconds elapse before either a return is sent or the buffer is filled including null termination. In all cases the buffer is null-terminated. <br /></td></tr>
<tr class="separator:a2ad756bcfcbe405b56b23e3b640b49d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48ed1c3e6c7cccae93b47d7e6f2f888"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#ac48ed1c3e6c7cccae93b47d7e6f2f888">readNumber</a> (uint32_t &amp;v, uint32_t timeout=60000000)</td></tr>
<tr class="separator:ac48ed1c3e6c7cccae93b47d7e6f2f888"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Action Mapping and Dispatching</h2></td></tr>
<tr class="memitem:a6080ebf724f55fcba420903749df6b88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6080ebf724f55fcba420903749df6b88"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ActionFn</b>) (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a6080ebf724f55fcba420903749df6b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3add754bdd339f64be1dff4546be65f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a3add754bdd339f64be1dff4546be65f5">initActions</a> ()</td></tr>
<tr class="memdesc:a3add754bdd339f64be1dff4546be65f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the table of function pointers to no-ops.  <a href="#a3add754bdd339f64be1dff4546be65f5">More...</a><br /></td></tr>
<tr class="separator:a3add754bdd339f64be1dff4546be65f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddb37fc9b26cb5c7a18a1458414f647"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a4ddb37fc9b26cb5c7a18a1458414f647">codeHash</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:a4ddb37fc9b26cb5c7a18a1458414f647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e8c23475fa40e7d5504df1379711d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76e8c23475fa40e7d5504df1379711d8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code, ActionFn action)</td></tr>
<tr class="memdesc:a76e8c23475fa40e7d5504df1379711d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash a Morse code symbol to a table location and store action there. <br /></td></tr>
<tr class="separator:a76e8c23475fa40e7d5504df1379711d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7251c47cd69137c16e9e7e5cf6179e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a7251c47cd69137c16e9e7e5cf6179e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a9a7251c47cd69137c16e9e7e5cf6179e">doAction</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a9a7251c47cd69137c16e9e7e5cf6179e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoke an action from the actions table. <br /></td></tr>
<tr class="separator:a9a7251c47cd69137c16e9e7e5cf6179e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ebbe304654c025f3f02ea434718884"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a> ()</td></tr>
<tr class="separator:aa1ebbe304654c025f3f02ea434718884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c12896b2807b2ac63725a650efea6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#af4c12896b2807b2ac63725a650efea6b">restoreActions</a> ()</td></tr>
<tr class="separator:af4c12896b2807b2ac63725a650efea6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07e1d9a717a212364090e192e951ea5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#ad07e1d9a717a212364090e192e951ea5">push1RestoreAll</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:ad07e1d9a717a212364090e192e951ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a> (const char *pattern)</td></tr>
<tr class="memdesc:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Score the given pattern against the state of the symbol stack.  <a href="#afa60f07ebee7c34ef41c3dfb64222bb6">More...</a><br /></td></tr>
<tr class="separator:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fec7da4166b9612d2deec3d0262d60f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a1fec7da4166b9612d2deec3d0262d60f">dispatchOnStack</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a1fec7da4166b9612d2deec3d0262d60f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fabf5710b8a28d43d988e855aa8eec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59fabf5710b8a28d43d988e855aa8eec"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a59fabf5710b8a28d43d988e855aa8eec">mapToUpper</a> (char *buffer, size_t n)</td></tr>
<tr class="memdesc:a59fabf5710b8a28d43d988e855aa8eec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform in-place conversion of the given buffer to upper case. <br /></td></tr>
<tr class="separator:a59fabf5710b8a28d43d988e855aa8eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32495a4b35631dfa2faacf5c46e78a4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#af32495a4b35631dfa2faacf5c46e78a4">isValidMorseFormat</a> (const char *buffer, size_t n)</td></tr>
<tr class="memdesc:af32495a4b35631dfa2faacf5c46e78a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for unsupported punctuation and some invalid escape sequences.  <a href="#af32495a4b35631dfa2faacf5c46e78a4">More...</a><br /></td></tr>
<tr class="separator:af32495a4b35631dfa2faacf5c46e78a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9466bf6676f35ff08e8dc33518e483"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c9466bf6676f35ff08e8dc33518e483"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="actions_8h.html#a9c9466bf6676f35ff08e8dc33518e483">readEvalPrint</a> ()</td></tr>
<tr class="memdesc:a9c9466bf6676f35ff08e8dc33518e483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Respond to commands from the serial port. <br /></td></tr>
<tr class="separator:a9c9466bf6676f35ff08e8dc33518e483"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Application-specific actions. </p>

<p>Definition in file <a class="el" href="actions_8h_source.html">actions.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4ddb37fc9b26cb5c7a18a1458414f647"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t codeHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Our internal representation of Morse code is left justified, that is to say, the high order bit is the first dit/dah. Most of the time, the bottom 8 bits will be zero, so create a hash by grabbing the top 8 bits.</p>
<p>Actually, the comment above applies when <a class="el" href="classMorseToken.html" title="Represents an individual Morse code token, such as a letter, pause, or prosign. ">MorseToken</a> is defined to be larger than 8 bits. Currently sizeof(MorseToken) == 1, so codeHash(x) == x. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00035">35</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00039">assignAction()</a>, and <a class="el" href="actions_8cpp_source.html#l00043">doAction()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                                  {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">return</span> code &gt;&gt; (wordBits - CHAR_BIT);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fec7da4166b9612d2deec3d0262d60f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dispatchOnStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute the command that best matches the stack contents. </p><dl class="section note"><dt>Note</dt><dd>The caller graph is incorrect. A pointer to this function is passed in <code><a class="el" href="didah_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a></code> but the caller is <code><a class="el" href="actions_8h.html#a9a7251c47cd69137c16e9e7e5cf6179e" title="Invoke an action from the actions table. ">doAction()</a></code>. </dd></dl>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00076">76</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="stack_8cpp_source.html#l00047">clearSymbolStack()</a>, <a class="el" href="stack_8cpp_source.html#l00038">exchangeStack()</a>, <a class="el" href="settings_8cpp_source.html#l00021">getLowVoltageThresholdDefault()</a>, <a class="el" href="settings_8cpp_source.html#l00027">getMaximumVoltage()</a>, <a class="el" href="settings_8cpp_source.html#l00128">initSettings()</a>, <a class="el" href="libmorse_8cpp_source.html#l00265">matchScore()</a>, <a class="el" href="stack_8cpp_source.html#l00051">popN()</a>, <a class="el" href="actions_8cpp_source.html#l00456">printLog()</a>, <a class="el" href="stack_8cpp_source.html#l00027">pushSymbolStack()</a>, <a class="el" href="libmorse_8cpp_source.html#l00392">rxString()</a>, <a class="el" href="settings_8cpp_source.html#l00203">setAlarmHighFormat()</a>, <a class="el" href="settings_8cpp_source.html#l00221">setAlarmInterval()</a>, <a class="el" href="settings_8cpp_source.html#l00197">setAlarmLowFormat()</a>, <a class="el" href="settings_8cpp_source.html#l00191">setAnnouncementFormat()</a>, <a class="el" href="settings_8cpp_source.html#l00225">setAnnouncementInterval()</a>, <a class="el" href="settings_8cpp_source.html#l00183">setDitMicros()</a>, <a class="el" href="settings_8cpp_source.html#l00169">setHighVoltageThreshold()</a>, <a class="el" href="settings_8cpp_source.html#l00161">setLowVoltageThreshold()</a>, <a class="el" href="settings_8cpp_source.html#l00124">setTxHz()</a>, <a class="el" href="actions_8cpp_source.html#l00318">slowDown()</a>, <a class="el" href="actions_8cpp_source.html#l00326">speedUp()</a>, <a class="el" href="stack_8cpp_source.html#l00058">stackDigitsToUnsigned()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, <a class="el" href="actions_8cpp_source.html#l00866">txHelp()</a>, <a class="el" href="actions_8cpp_source.html#l00246">txListSymbolStack()</a>, <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>, <a class="el" href="actions_8cpp_source.html#l00242">txSymbolStackTop()</a>, and <a class="el" href="actions_8cpp_source.html#l00255">txTimeHHMM()</a>.</p>

<p>Referenced by <a class="el" href="didah_8ino_source.html#l00630">setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                      {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(code);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;V&quot;</span>) == 255) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="comment">// Pop the &#39;V&#39;.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="comment">// Transmit the top of the stack.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="actions_8cpp.html#a5396567e85aa94852a84b3fff96369b9">txSymbolStackTop</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;QRS&quot;</span>) == 255) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="comment">// Increase the dit time.</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="actions_8cpp.html#a68d867ac633d6976afcbf1180e2123a5">slowDown</a>();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(3);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;QRQ&quot;</span>) == 255) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="comment">// Decrease the dit time.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="actions_8cpp.html#a40eae45b6e35fc4fdff30b28d2aca4fe">speedUp</a>();</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(3);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;QTR?&quot;</span>) == 255) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="comment">// Ask the time.</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="actions_8cpp.html#aaabb3ac0c23f35a499bc17efe829f326">txTimeHHMM</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(4);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;C&quot;</span>) == 255) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="comment">// Clear the stack.</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="stack_8cpp.html#a18f661c3b87905b663120203c48bed1a">clearSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      Serial.println(<span class="stringliteral">&quot;Cleared stack.&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nA&quot;</span>) == 255) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">// Set the low voltage threshold.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keyword">const</span> uint32_t hi(<a class="code" href="settings_8cpp.html#a8101cb931b50444b67c6cc9e532f6287">getMaximumVoltage</a>() - <a class="code" href="settings_8cpp.html#a81ea267d0c442d02cd93f2f6579f01d8">getLowVoltageThresholdDefault</a>());</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">if</span> (n - <a class="code" href="settings_8cpp.html#a81ea267d0c442d02cd93f2f6579f01d8">getLowVoltageThresholdDefault</a>() &lt; hi) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;         <a class="code" href="settings_8cpp.html#a17a6da0c26e4ba90eead6a336997f59c">setLowVoltageThreshold</a>(n);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nB&quot;</span>) == 255) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="comment">// Set the high voltage threshold.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keyword">const</span> uint32_t hi(<a class="code" href="settings_8cpp.html#a8101cb931b50444b67c6cc9e532f6287">getMaximumVoltage</a>() - <a class="code" href="settings_8cpp.html#a81ea267d0c442d02cd93f2f6579f01d8">getLowVoltageThresholdDefault</a>());</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">if</span> (n - <a class="code" href="settings_8cpp.html#a81ea267d0c442d02cd93f2f6579f01d8">getLowVoltageThresholdDefault</a>() &lt; hi) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;         <a class="code" href="settings_8cpp.html#a3b400380ca80d3134cc0ed60040a56de">setHighVoltageThreshold</a>(n);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nD&quot;</span>) == 255) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="comment">// Set the dit duration.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">if</span> (n - 20 &lt;= 200 - 20) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         <a class="code" href="settings_8cpp.html#ab053475f1136a97fda0c5cf8db0ca9e0">setDitMicros</a>(1000 * n);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;F&quot;</span>) == 255) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="comment">// Get the announcement format.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;TX MSG END WITH ^AR^  K&quot;</span>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordtype">char</span> buffer[128];</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="libmorse_8cpp.html#a25fad1f4d176afaa89839cc897891e78">rxString</a>(buffer, <span class="keyword">sizeof</span> buffer);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="keywordflow">if</span> (buffer[0]) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;         <a class="code" href="settings_8cpp.html#a7a9313497728f2dd2258a48c834f15ea">setAnnouncementFormat</a>(buffer);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;QTA&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;G&quot;</span>) == 255) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="comment">// Copy the alarm format.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;TX MSG END WITH ^AR^  K&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordtype">char</span> buffer[128];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="libmorse_8cpp.html#a25fad1f4d176afaa89839cc897891e78">rxString</a>(buffer, <span class="keyword">sizeof</span> buffer);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">if</span> (buffer[0]) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;         <a class="code" href="settings_8cpp.html#ad8b63b6281bfc7d9fa33ba5c76c23ebb">setAlarmLowFormat</a>(buffer);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;QTA&quot;</span>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;H&quot;</span>) == 255) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// Copy the alarm format.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;TX MSG END WITH ^AR^  K&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordtype">char</span> buffer[128];</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="libmorse_8cpp.html#a25fad1f4d176afaa89839cc897891e78">rxString</a>(buffer, <span class="keyword">sizeof</span> buffer);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">if</span> (buffer[0]) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;         <a class="code" href="settings_8cpp.html#afd5b052ce601960d6975f81b1fdb4d89">setAlarmHighFormat</a>(buffer);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;QTA&quot;</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;c^SS^&quot;</span>) == 255) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="comment">// Erase the top of the stack.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(2);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="actions_8cpp.html#a6436621df3b98909e885083436d6b9e2">txListSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nI&quot;</span>) == 255) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="comment">// Set the nominal announcement repetition interval.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (n - 20 &lt; 86400 - 20) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;         <a class="code" href="settings_8cpp.html#abffd4cdd469e5aa3bee2e3762c4807a7">setAnnouncementInterval</a>(n);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nJ&quot;</span>) == 255) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">// Set the alarm announcement repetition interval.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">if</span> (n - 20 &lt;= 86400 - 20) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;         <a class="code" href="settings_8cpp.html#acd04b810317945dc6e24f58dedb56c66">setAlarmInterval</a>(n);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nQTR&quot;</span>) == 255 || <a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nT&quot;</span>) == 255) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="comment">// Set the time without the four-digit requirement.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      uint32_t hour(n / 100);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      uint32_t minute(n % 100);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (hour &lt; 24 &amp;&amp; minute &lt; 60) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         setTime(hour, minute, 0, 0, 0, 0);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;         setUptime(0);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;O&quot;</span>) == 255) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="settings_8cpp.html#a98c2398d8260d9517353a1a7e33b73ea">initSettings</a>();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      Serial.println(<span class="stringliteral">&quot;Settings restored.\r\n&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <a class="code" href="actions_8cpp.html#a7cb54685ddb3c45facf6daadcc4a5f4b">printLog</a>();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;nP&quot;</span>) == 255) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// Set the pitch of the side tone.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      uint32_t n(<a class="code" href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a>());</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">if</span> (n - 55 &lt;= 1760 - 55) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;         <a class="code" href="settings_8cpp.html#af33969eee39a5fffb3ceb43a77772dc9">setTxHz</a>(n);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;         <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;RANGE&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;X&quot;</span>) == 255) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="comment">// Exchange the top two elements of the stack.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="stack_8cpp.html#a86ad401a3d9c5525c80c4a5a6573bf50">exchangeStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="actions_8cpp.html#a6436621df3b98909e885083436d6b9e2">txListSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;K&quot;</span>);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a>(<span class="stringliteral">&quot;?&quot;</span>) == 255) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// Transmit the help text.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="actions_8cpp.html#a929cef8463968746bf3e3198d96e15a1">txHelp</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="settings_8cpp_html_ad8b63b6281bfc7d9fa33ba5c76c23ebb"><div class="ttname"><a href="settings_8cpp.html#ad8b63b6281bfc7d9fa33ba5c76c23ebb">setAlarmLowFormat</a></div><div class="ttdeci">void setAlarmLowFormat(const char *format)</div><div class="ttdoc">Set the format of periodic low-voltage alarm messages. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00197">settings.cpp:197</a></div></div>
<div class="ttc" id="settings_8cpp_html_afd5b052ce601960d6975f81b1fdb4d89"><div class="ttname"><a href="settings_8cpp.html#afd5b052ce601960d6975f81b1fdb4d89">setAlarmHighFormat</a></div><div class="ttdeci">void setAlarmHighFormat(const char *format)</div><div class="ttdoc">Set the format of periodic high-voltage alarm messages. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00203">settings.cpp:203</a></div></div>
<div class="ttc" id="settings_8cpp_html_a17a6da0c26e4ba90eead6a336997f59c"><div class="ttname"><a href="settings_8cpp.html#a17a6da0c26e4ba90eead6a336997f59c">setLowVoltageThreshold</a></div><div class="ttdeci">void setLowVoltageThreshold(int32_t v)</div><div class="ttdoc">Set the low-voltage alarm threshold. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00161">settings.cpp:161</a></div></div>
<div class="ttc" id="stack_8cpp_html_a7a8a89da82371dc2324696e7dfacad5e"><div class="ttname"><a href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a></div><div class="ttdeci">void popN(uint8_t n)</div><div class="ttdoc">Pop the stack n times or until it is empty. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00051">stack.cpp:51</a></div></div>
<div class="ttc" id="settings_8cpp_html_a8101cb931b50444b67c6cc9e532f6287"><div class="ttname"><a href="settings_8cpp.html#a8101cb931b50444b67c6cc9e532f6287">getMaximumVoltage</a></div><div class="ttdeci">const int32_t getMaximumVoltage()</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00027">settings.cpp:27</a></div></div>
<div class="ttc" id="actions_8cpp_html_a68d867ac633d6976afcbf1180e2123a5"><div class="ttname"><a href="actions_8cpp.html#a68d867ac633d6976afcbf1180e2123a5">slowDown</a></div><div class="ttdeci">void slowDown()</div><div class="ttdoc">Increase the unit time by 5000 microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00318">actions.cpp:318</a></div></div>
<div class="ttc" id="stack_8cpp_html_a18f661c3b87905b663120203c48bed1a"><div class="ttname"><a href="stack_8cpp.html#a18f661c3b87905b663120203c48bed1a">clearSymbolStack</a></div><div class="ttdeci">void clearSymbolStack(MorseToken)</div><div class="ttdoc">Discard all elements of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00047">stack.cpp:47</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a25fad1f4d176afaa89839cc897891e78"><div class="ttname"><a href="libmorse_8cpp.html#a25fad1f4d176afaa89839cc897891e78">rxString</a></div><div class="ttdeci">void rxString(char *buffer, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00392">libmorse.cpp:392</a></div></div>
<div class="ttc" id="actions_8cpp_html_a40eae45b6e35fc4fdff30b28d2aca4fe"><div class="ttname"><a href="actions_8cpp.html#a40eae45b6e35fc4fdff30b28d2aca4fe">speedUp</a></div><div class="ttdeci">void speedUp()</div><div class="ttdoc">Decrease the unit time by 5000 microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00326">actions.cpp:326</a></div></div>
<div class="ttc" id="stack_8cpp_html_a89e98012b4180ef8ce90108ebcfbde1d"><div class="ttname"><a href="stack_8cpp.html#a89e98012b4180ef8ce90108ebcfbde1d">stackDigitsToUnsigned</a></div><div class="ttdeci">uint32_t stackDigitsToUnsigned()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00058">stack.cpp:58</a></div></div>
<div class="ttc" id="actions_8cpp_html_a929cef8463968746bf3e3198d96e15a1"><div class="ttname"><a href="actions_8cpp.html#a929cef8463968746bf3e3198d96e15a1">txHelp</a></div><div class="ttdeci">void txHelp(MorseToken)</div><div class="ttdoc">Transmit help text. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00866">actions.cpp:866</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="stack_8cpp_html_a86ad401a3d9c5525c80c4a5a6573bf50"><div class="ttname"><a href="stack_8cpp.html#a86ad401a3d9c5525c80c4a5a6573bf50">exchangeStack</a></div><div class="ttdeci">void exchangeStack(MorseToken)</div><div class="ttdoc">Swap s0 and s1. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00038">stack.cpp:38</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_ab94e088615119d1faae7df22ce50aedf"><div class="ttname"><a href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a></div><div class="ttdeci">void txError()</div><div class="ttdoc">Transmit a Morse code prosign indicating an error. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00114">libmorse.cpp:114</a></div></div>
<div class="ttc" id="actions_8cpp_html_a6436621df3b98909e885083436d6b9e2"><div class="ttname"><a href="actions_8cpp.html#a6436621df3b98909e885083436d6b9e2">txListSymbolStack</a></div><div class="ttdeci">void txListSymbolStack(MorseToken)</div><div class="ttdoc">List the contents of the symbol stack. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00246">actions.cpp:246</a></div></div>
<div class="ttc" id="settings_8cpp_html_af33969eee39a5fffb3ceb43a77772dc9"><div class="ttname"><a href="settings_8cpp.html#af33969eee39a5fffb3ceb43a77772dc9">setTxHz</a></div><div class="ttdeci">void setTxHz(uint32_t Hz)</div><div class="ttdoc">Set the transmission frequency (side tone). </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00124">settings.cpp:124</a></div></div>
<div class="ttc" id="settings_8cpp_html_abffd4cdd469e5aa3bee2e3762c4807a7"><div class="ttname"><a href="settings_8cpp.html#abffd4cdd469e5aa3bee2e3762c4807a7">setAnnouncementInterval</a></div><div class="ttdeci">void setAnnouncementInterval(uint32_t seconds)</div><div class="ttdoc">Set the normal announcement interval in seconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00225">settings.cpp:225</a></div></div>
<div class="ttc" id="actions_8cpp_html_a5396567e85aa94852a84b3fff96369b9"><div class="ttname"><a href="actions_8cpp.html#a5396567e85aa94852a84b3fff96369b9">txSymbolStackTop</a></div><div class="ttdeci">void txSymbolStackTop(MorseToken)</div><div class="ttdoc">Transmit the top element of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00242">actions.cpp:242</a></div></div>
<div class="ttc" id="settings_8cpp_html_a98c2398d8260d9517353a1a7e33b73ea"><div class="ttname"><a href="settings_8cpp.html#a98c2398d8260d9517353a1a7e33b73ea">initSettings</a></div><div class="ttdeci">void initSettings()</div><div class="ttdoc">Load the settings from non-volatile memory. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00128">settings.cpp:128</a></div></div>
<div class="ttc" id="settings_8cpp_html_a7a9313497728f2dd2258a48c834f15ea"><div class="ttname"><a href="settings_8cpp.html#a7a9313497728f2dd2258a48c834f15ea">setAnnouncementFormat</a></div><div class="ttdeci">void setAnnouncementFormat(const char *format)</div><div class="ttdoc">Set the periodic announcement format. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00191">settings.cpp:191</a></div></div>
<div class="ttc" id="settings_8cpp_html_a3b400380ca80d3134cc0ed60040a56de"><div class="ttname"><a href="settings_8cpp.html#a3b400380ca80d3134cc0ed60040a56de">setHighVoltageThreshold</a></div><div class="ttdeci">void setHighVoltageThreshold(int32_t v)</div><div class="ttdoc">Set the high-voltage alarm threshold. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00169">settings.cpp:169</a></div></div>
<div class="ttc" id="actions_8h_html_afa60f07ebee7c34ef41c3dfb64222bb6"><div class="ttname"><a href="actions_8h.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a></div><div class="ttdeci">uint8_t matchScore(const char *pattern)</div><div class="ttdoc">Score the given pattern against the state of the symbol stack. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00265">libmorse.cpp:265</a></div></div>
<div class="ttc" id="actions_8cpp_html_aaabb3ac0c23f35a499bc17efe829f326"><div class="ttname"><a href="actions_8cpp.html#aaabb3ac0c23f35a499bc17efe829f326">txTimeHHMM</a></div><div class="ttdeci">void txTimeHHMM(MorseToken code)</div><div class="ttdoc">Transmit the 24-hr time. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00255">actions.cpp:255</a></div></div>
<div class="ttc" id="actions_8cpp_html_a7cb54685ddb3c45facf6daadcc4a5f4b"><div class="ttname"><a href="actions_8cpp.html#a7cb54685ddb3c45facf6daadcc4a5f4b">printLog</a></div><div class="ttdeci">void printLog()</div><div class="ttdoc">Report settings and measurements over the serial port. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00456">actions.cpp:456</a></div></div>
<div class="ttc" id="settings_8cpp_html_a81ea267d0c442d02cd93f2f6579f01d8"><div class="ttname"><a href="settings_8cpp.html#a81ea267d0c442d02cd93f2f6579f01d8">getLowVoltageThresholdDefault</a></div><div class="ttdeci">const int32_t getLowVoltageThresholdDefault()</div><div class="ttdoc">The default low-voltage threshold is the minimum voltage. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00021">settings.cpp:21</a></div></div>
<div class="ttc" id="settings_8cpp_html_acd04b810317945dc6e24f58dedb56c66"><div class="ttname"><a href="settings_8cpp.html#acd04b810317945dc6e24f58dedb56c66">setAlarmInterval</a></div><div class="ttdeci">void setAlarmInterval(uint32_t seconds)</div><div class="ttdoc">Get the repetition inteval in seconds of when in the alarm state. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00221">settings.cpp:221</a></div></div>
<div class="ttc" id="settings_8cpp_html_ab053475f1136a97fda0c5cf8db0ca9e0"><div class="ttname"><a href="settings_8cpp.html#ab053475f1136a97fda0c5cf8db0ca9e0">setDitMicros</a></div><div class="ttdeci">void setDitMicros(uint32_t ms)</div><div class="ttdoc">Set the dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00183">settings.cpp:183</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
<div class="ttc" id="stack_8cpp_html_ae73e1851820a958c7de01c9ed36d1b7c"><div class="ttname"><a href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a></div><div class="ttdeci">void pushSymbolStack(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00027">stack.cpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa39383c189ec39df4fe9337c5edc98c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getPressure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play a tone with pitch proportional to the pressure on the dit button. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00355">355</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="teensy3__morse__bsp_8h_source.html#l00073">dahPin</a>, <a class="el" href="teensy3__morse__bsp_8h_source.html#l00070">ditPin</a>, <a class="el" href="settings_8cpp_source.html#l00179">getDitMicrosDefault()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00315">pwmFrequency()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00321">pwmWrite()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00152">touchPoll()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                  {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="teensy3__morse__bsp_8cpp.html#a2d6b4ace33ed5e497dedd03217540c63">pwmFrequency</a>(0);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="teensy3__morse__bsp_8cpp.html#a82911eac3bf13d6f36d10102a4c4d3c4">pwmWrite</a>(getDuty());</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="teensy3__morse__bsp_8cpp.html#ab306f692c5c9455a0c82782a67ff0147">touchPoll</a>(<a class="code" href="teensy3__morse__bsp_8h.html#a6036abb02500d6edb26b1ba860014f9d">dahPin</a>)) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    uint32_t ci(touchRead(<a class="code" href="teensy3__morse__bsp_8h.html#a7dfdb474e15d2999d01fd0018d83ea68">ditPin</a>));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    Serial.println(ci);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    uint32_t f(map(ci, 500, 65535, 33, 4186));</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="teensy3__morse__bsp_8cpp.html#a2d6b4ace33ed5e497dedd03217540c63">pwmFrequency</a>(f);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="teensy3__morse__bsp_8cpp.html#a82911eac3bf13d6f36d10102a4c4d3c4">pwmWrite</a>(getDuty());</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    delayMicroseconds(<a class="code" href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a>());</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;^AR^&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="settings_8cpp_html_ad02597259b5753e0c98605bce44a9fc8"><div class="ttname"><a href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a></div><div class="ttdeci">uint32_t getDitMicrosDefault()</div><div class="ttdoc">Get the default dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00179">settings.cpp:179</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8h_html_a7dfdb474e15d2999d01fd0018d83ea68"><div class="ttname"><a href="teensy3__morse__bsp_8h.html#a7dfdb474e15d2999d01fd0018d83ea68">ditPin</a></div><div class="ttdeci">const int ditPin</div><div class="ttdoc">A touchRead() pin. Auto-repeats a dit. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8h_source.html#l00070">teensy3_morse_bsp.h:70</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_a82911eac3bf13d6f36d10102a4c4d3c4"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#a82911eac3bf13d6f36d10102a4c4d3c4">pwmWrite</a></div><div class="ttdeci">void pwmWrite(int duty)</div><div class="ttdoc">Generate a tone on the audio output pins. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00321">teensy3_morse_bsp.cpp:321</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_ab306f692c5c9455a0c82782a67ff0147"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#ab306f692c5c9455a0c82782a67ff0147">touchPoll</a></div><div class="ttdeci">bool touchPoll(uint8_t pin)</div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00152">teensy3_morse_bsp.cpp:152</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8h_html_a6036abb02500d6edb26b1ba860014f9d"><div class="ttname"><a href="teensy3__morse__bsp_8h.html#a6036abb02500d6edb26b1ba860014f9d">dahPin</a></div><div class="ttdeci">const int dahPin</div><div class="ttdoc">A touchRead() pin. Auto-repeats a dah. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8h_source.html#l00073">teensy3_morse_bsp.h:73</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_a2d6b4ace33ed5e497dedd03217540c63"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#a2d6b4ace33ed5e497dedd03217540c63">pwmFrequency</a></div><div class="ttdeci">void pwmFrequency(int Hz)</div><div class="ttdoc">Set the PWM frequency for the audio output pins. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00315">teensy3_morse_bsp.cpp:315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3add754bdd339f64be1dff4546be65f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initActions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the table of function pointers to no-ops. </p>
<p>The actions table is indexed by the bottom 8 bits of our internal representation of a Morse code character or prosign. Actions are passed <a class="el" href="classMorseToken.html" title="Represents an individual Morse code token, such as a letter, pause, or prosign. ">MorseToken</a> instances so that a single action can handle several different tokens.</p>
<p>For more complicated command syntax, <a class="el" href="actions_8h.html#a1fec7da4166b9612d2deec3d0262d60f">dispatchOnStack()</a> in <a class="el" href="actions_8cpp.html" title="Implementation of application-specific actions. ">actions.cpp</a> performs pattern matching on the stack and dispatches to the first command that matches.</p>
<p>The intent was to support command rebinding at runtime while being efficient enough to run on a low-powered processor. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00029">29</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>Referenced by <a class="el" href="didah_8ino_source.html#l00630">setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                   {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(0); i &lt; actionSize; ++i) {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    actions[i] = doNothing;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  }</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af32495a4b35631dfa2faacf5c46e78a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isValidMorseFormat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for unsupported punctuation and some invalid escape sequences. </p>
<p>Substitution placeholders C, F, T, U, and V are checked; prosign escape sequences are not. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00676">676</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00701">readMessageFormat()</a>.</p>
<div class="fragment"><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                                                      {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordtype">bool</span> result(<span class="keyword">true</span>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(0); i &lt; n; ++i) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> c(buffer[i]);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (ispunct(c)) {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">if</span> (strchr(morsePunctuation, c)) {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    ; <span class="comment">// ok</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;%&#39;</span> &amp;&amp; i + 1 &lt; n &amp;&amp; strchr(<span class="stringliteral">&quot;CFTUV&quot;</span>, buffer[i + 1])) {</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    ; <span class="comment">// ok</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;^&#39;</span>) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    ; <span class="comment">// ok, not checking prosign overflow, matched delimiters, or</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <span class="comment">// embedded escape sequences, e.g. </span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="comment">//    ^^</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <span class="comment">//    ^%F^</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    result = <span class="keyword">false</span>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa60f07ebee7c34ef41c3dfb64222bb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t matchScore </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Score the given pattern against the state of the symbol stack. </p>
<p>The maximum score is 255 and decreases with increased distance from the pattern.</p>
<ul>
<li><code>A-Z</code>, <code>0-9</code>, punctuation - Match a literal character </li>
<li><code>^CQ^</code> - Match a prosign </li>
<li>space - Match a word-length or greater pause </li>
<li><code>a</code> - Match a single letter from A-Z </li>
<li><code>c</code> - Match any character </li>
<li><code>d</code> - Match a single digit </li>
<li><code>n</code> - Match a contiguous sequence of digits</li>
</ul>
<p>With the exception of <code>n</code>, all the pattern elements match one Morse token. The following punctuation is accepted: </p><pre class="fragment">!"$&amp;'()+,-./:;=?@_               </pre><p>The pattern is compared to the stack starting at the end of the pattern and the top of the stack. There is no support for backtracking. All pattern elements are greedy. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00265">265</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p>References <a class="el" href="settings_8cpp_source.html#l00187">getDitMicros()</a>, <a class="el" href="libmorse_8cpp_source.html#l00040">getMorse()</a>, <a class="el" href="prosign_8h_source.html#l00027">MORSE_AR</a>, <a class="el" href="prosign_8h_source.html#l00035">MORSE_BT</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>, and <a class="el" href="actions_8cpp_source.html#l00380">txTock()</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00076">dispatchOnStack()</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                        {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   uint8_t score(255);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* patEnd(pattern);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <span class="keywordflow">while</span> (*patEnd) ++patEnd;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* patSym(patEnd);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">if</span> (patSym == pattern) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      score = 0;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="comment">// Null pattern never matches.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   --patSym;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordtype">size_t</span> sp(0);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordtype">bool</span> sawDigit(<span class="keyword">false</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordtype">char</span> si(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(sp).toChar());</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">switch</span> (*patSym) {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;         <span class="comment">// Match any (simple greedy match).</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;         <span class="comment">// Must occur at the beginning of the pattern.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;         <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;         <span class="comment">// Match a character.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         score -= score &amp;&amp; !isalnum(si);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;         <span class="comment">// Match a digit.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;         score -= score &amp;&amp; (uint8_t(9U) &lt; uint8_t(si - <span class="charliteral">&#39;0&#39;</span>));</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <span class="comment">// Match one or more digits.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <span class="comment">// Note: only the stack size limits the number of digits.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         <span class="keywordflow">if</span> (uint8_t(si - <span class="charliteral">&#39;0&#39;</span>) &lt; 10U) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            sawDigit = <span class="keyword">true</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="comment">// Don&#39;t advance to the next character of pattern.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            ++patSym;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (!sawDigit) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;               score -= !!score;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;               <span class="comment">// Finished matching n. Advance the pattern, but reuse</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;               <span class="comment">// the current stack element.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;               --sp;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;^&#39;</span>: {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         <span class="comment">// Match a prosign.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         <span class="comment">// Note: This code is just enough different than txString to</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         <span class="comment">// be annoying.</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;         <span class="keywordtype">char</span> pbuffer[5] = { <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;3&#39;</span>, <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;\0&#39;</span> };</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         <span class="keywordtype">char</span>* pb(pbuffer);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         --patSym;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         <span class="keywordflow">while</span> (*patSym &amp;&amp; (*patSym != <span class="charliteral">&#39;^&#39;</span>)) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            *pb++ = *patSym--;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;         }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         --patSym;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         *pb-- = 0;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         <span class="comment">// Reverse pbuffer since we&#39;re matching backwards, but the</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <span class="comment">// prosign is a single multi-character entity.</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         <span class="keywordtype">char</span>* fb(pbuffer);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;         <span class="keywordflow">while</span> (fb &lt; pb) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordtype">char</span> temp(*fb);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            *fb++ = *pb;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            *pb-- = temp;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         score -= score &amp;&amp;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            uint8_t(<a class="code" href="classMorseToken.html">MorseToken</a>(pbuffer, MorseToken::Prosign)) != <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(sp);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         <span class="comment">// Match the literal value of c.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         score -= score &amp;&amp; si != uint8_t(*patSym);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      };</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   } <span class="keywordflow">while</span> (pattern &lt; patSym-- &amp;&amp; ++sp != <a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>());</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (pattern != patSym &amp;&amp; sp == <a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>()) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="comment">// If the pattern wasn&#39;t used completely deduct a point for</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="comment">// ever unused pattern symbol.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      score -= patSym - pattern;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keywordflow">return</span> score;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="ttc" id="stack_8cpp_html_abefdfbf9131b5ea5926f9ecbecb6b1e6"><div class="ttname"><a href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a></div><div class="ttdeci">MorseToken s(size_t i)</div><div class="ttdoc">Access the stack using an index where 0 is the top of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00017">stack.cpp:17</a></div></div>
<div class="ttc" id="stack_8cpp_html_aafac4a86d14d59c34565bc295024e511"><div class="ttname"><a href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a></div><div class="ttdeci">size_t symbolStackSize()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00012">stack.cpp:12</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7cb54685ddb3c45facf6daadcc4a5f4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printLog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Report the current settings and sensor values via the serial port. </p>
<p>Report the current settings and sensor values via the serial port. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00456">456</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="settings_8cpp_source.html#l00217">getAlarmHighFormat()</a>, <a class="el" href="settings_8cpp_source.html#l00233">getAlarmInterval()</a>, <a class="el" href="settings_8cpp_source.html#l00213">getAlarmLowFormat()</a>, <a class="el" href="actions_8cpp_source.html#l00427">getAlarmState()</a>, <a class="el" href="settings_8cpp_source.html#l00209">getAnnouncementFormat()</a>, <a class="el" href="settings_8cpp_source.html#l00229">getAnnouncementInterval()</a>, <a class="el" href="settings_8cpp_source.html#l00187">getDitMicros()</a>, <a class="el" href="settings_8cpp_source.html#l00173">getHighVoltageThreshold()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00193">getInternalTemperatureC()</a>, <a class="el" href="settings_8cpp_source.html#l00165">getLowVoltageThreshold()</a>, <a class="el" href="settings_8cpp_source.html#l00120">getTxHz()</a>, <a class="el" href="settings_8cpp_source.html#l00138">isTimeSet()</a>, and <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00202">readMillivolts()</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00076">dispatchOnStack()</a>, and <a class="el" href="actions_8cpp_source.html#l00735">readEvalPrint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   Serial.print(</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="stringliteral">&quot;Didah Voltage Monitor\r\n&quot;</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="stringliteral">&quot;=====================\r\n&quot;</span>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Version: &quot;</span>, getVersion(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   Serial.print(</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="stringliteral">&quot;Documentation: http://pictographer.com/didah\r\n&quot;</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="stringliteral">&quot;\r\n&quot;</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <span class="stringliteral">&quot;Device to periodically announce input voltage in Morse code.\r\n&quot;</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="stringliteral">&quot;\r\n&quot;</span>);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   Serial.print(</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="stringliteral">&quot;Measurements\r\n&quot;</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="stringliteral">&quot;--------\r\n&quot;</span>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="comment">//            0         1         2</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <span class="comment">//            012345678901234567890</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordtype">char</span> buffer[] = <span class="stringliteral">&quot;HHMM&quot;</span>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m(minute());</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h(hour());</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   buffer[0]  = <span class="charliteral">&#39;0&#39;</span> + h / 10;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   buffer[1]  = <span class="charliteral">&#39;0&#39;</span> + h % 10;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   buffer[2] = <span class="charliteral">&#39;0&#39;</span> + m / 10;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   buffer[3] = <span class="charliteral">&#39;0&#39;</span> + m % 10;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Time: &quot;</span>, buffer,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        <a class="code" href="settings_8cpp.html#af63c25c773ddd97f32d6d0d364eda35a">isTimeSet</a>() ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; (Unset. Use T to set.)&quot;</span>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="comment">// Uptime is incremented only when the time is set.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   uint32_t u(getUptime());</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="comment">// If this is still running 7,656 years from now, send me a bug report</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="comment">// about the overflow.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Uptime: &quot;</span>, 15 * u,</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        <a class="code" href="settings_8cpp.html#af63c25c773ddd97f32d6d0d364eda35a">isTimeSet</a>() ? <span class="stringliteral">&quot; minutes&quot;</span> : <span class="stringliteral">&quot; minutes (Previous run.)&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span>* vl[] = {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="stringliteral">&quot; (INTERNAL ERROR)&quot;</span>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="stringliteral">&quot; mV ALARM LOW!&quot;</span>,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="stringliteral">&quot; mV (Nominal)&quot;</span>,</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="stringliteral">&quot; mV ALARM HIGH!&quot;</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   };</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordtype">size_t</span> vi(0);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="actions_8cpp.html#a9d7f936c10ce844cabda3cc094b91921">getAlarmState</a>()) {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordflow">case</span> voltageLow:     vi = 1; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <span class="keywordflow">case</span> voltageNominal: vi = 2; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="keywordflow">case</span> voltageHigh:    vi = 3; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">default</span>:             vi = 0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Measured voltage: &quot;</span>, <a class="code" href="teensy3__morse__bsp_8cpp.html#ae8dd28759e56dbd2ee9bc9ae96d1783c">readMillivolts</a>(), vl[vi]);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Temperature: &quot;</span>, <a class="code" href="teensy3__morse__bsp_8cpp.html#a8761e874366e227690fba2964e1bc445">getInternalTemperatureC</a>(), <span class="stringliteral">&quot; C&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   Serial.println();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   Serial.print(</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="stringliteral">&quot;Settings\r\n&quot;</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="stringliteral">&quot;--------\r\n&quot;</span>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="stringliteral">&quot;Nominal announcement format: &quot;</span>, <a class="code" href="settings_8cpp.html#a088799682590552129c153e36ce09a52">getAnnouncementFormat</a>(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="stringliteral">&quot;Nominal announcement interval: &quot;</span>, <a class="code" href="settings_8cpp.html#ab38fd90c96469830fd799d88bc8099a6">getAnnouncementInterval</a>(), <span class="stringliteral">&quot; seconds&quot;</span>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="stringliteral">&quot;Low-voltage alarm threshold: &quot;</span>, <a class="code" href="settings_8cpp.html#a6742b95e92feeab64383890dcb8a51d2">getLowVoltageThreshold</a>(), <span class="stringliteral">&quot; mV&quot;</span>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="stringliteral">&quot;Low-voltage alarm announcement format: &quot;</span>, <a class="code" href="settings_8cpp.html#a846e579c0e4875f098993e2a44e44182">getAlarmLowFormat</a>(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  </div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="stringliteral">&quot;High-voltage alarm threshold: &quot;</span>, <a class="code" href="settings_8cpp.html#a6b0bcdf814f86e78aadb0dbd4d80eda2">getHighVoltageThreshold</a>(), <span class="stringliteral">&quot; mV&quot;</span>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="stringliteral">&quot;High-voltage alarm announcement format: &quot;</span>, <a class="code" href="settings_8cpp.html#a0508347a0269b133a9dbc300904807e8">getAlarmHighFormat</a>(), <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  </div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   printLabelValueUnits(</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="stringliteral">&quot;Alarm interval: &quot;</span>, <a class="code" href="settings_8cpp.html#a09b2a494a5b9fec41d2cbb6c34484cc0">getAlarmInterval</a>(), <span class="stringliteral">&quot; seconds&quot;</span>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Dit duration: &quot;</span>, <a class="code" href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a>()/1000, <span class="stringliteral">&quot; ms&quot;</span>);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   printLabelValueUnits(<span class="stringliteral">&quot;Output frequency: &quot;</span>, <a class="code" href="settings_8cpp.html#a8575b9b52638114a4f32d1462cf9b7c1">getTxHz</a>(), <span class="stringliteral">&quot; Hz&quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   Serial.println();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="ttc" id="settings_8cpp_html_af63c25c773ddd97f32d6d0d364eda35a"><div class="ttname"><a href="settings_8cpp.html#af63c25c773ddd97f32d6d0d364eda35a">isTimeSet</a></div><div class="ttdeci">bool isTimeSet()</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00138">settings.cpp:138</a></div></div>
<div class="ttc" id="settings_8cpp_html_a0508347a0269b133a9dbc300904807e8"><div class="ttname"><a href="settings_8cpp.html#a0508347a0269b133a9dbc300904807e8">getAlarmHighFormat</a></div><div class="ttdeci">const char * getAlarmHighFormat()</div><div class="ttdoc">Get the format of periodic high-voltage alarm messages. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00217">settings.cpp:217</a></div></div>
<div class="ttc" id="settings_8cpp_html_a8575b9b52638114a4f32d1462cf9b7c1"><div class="ttname"><a href="settings_8cpp.html#a8575b9b52638114a4f32d1462cf9b7c1">getTxHz</a></div><div class="ttdeci">uint32_t getTxHz()</div><div class="ttdoc">Get the transmission frequency (side tone). </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00120">settings.cpp:120</a></div></div>
<div class="ttc" id="settings_8cpp_html_ab38fd90c96469830fd799d88bc8099a6"><div class="ttname"><a href="settings_8cpp.html#ab38fd90c96469830fd799d88bc8099a6">getAnnouncementInterval</a></div><div class="ttdeci">uint32_t getAnnouncementInterval()</div><div class="ttdoc">Get the normal announcement interval in seconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00229">settings.cpp:229</a></div></div>
<div class="ttc" id="settings_8cpp_html_a6b0bcdf814f86e78aadb0dbd4d80eda2"><div class="ttname"><a href="settings_8cpp.html#a6b0bcdf814f86e78aadb0dbd4d80eda2">getHighVoltageThreshold</a></div><div class="ttdeci">int32_t getHighVoltageThreshold()</div><div class="ttdoc">Get the high-voltage alarm threshold. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00173">settings.cpp:173</a></div></div>
<div class="ttc" id="actions_8cpp_html_a9d7f936c10ce844cabda3cc094b91921"><div class="ttname"><a href="actions_8cpp.html#a9d7f936c10ce844cabda3cc094b91921">getAlarmState</a></div><div class="ttdeci">char getAlarmState()</div><div class="ttdoc">Get the low-voltage alarm state. This determines the message format and repetition interval...</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00427">actions.cpp:427</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_a8761e874366e227690fba2964e1bc445"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#a8761e874366e227690fba2964e1bc445">getInternalTemperatureC</a></div><div class="ttdeci">float getInternalTemperatureC()</div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00193">teensy3_morse_bsp.cpp:193</a></div></div>
<div class="ttc" id="settings_8cpp_html_a6742b95e92feeab64383890dcb8a51d2"><div class="ttname"><a href="settings_8cpp.html#a6742b95e92feeab64383890dcb8a51d2">getLowVoltageThreshold</a></div><div class="ttdeci">int32_t getLowVoltageThreshold()</div><div class="ttdoc">Get the low-voltage alarm threshold. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00165">settings.cpp:165</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_ae8dd28759e56dbd2ee9bc9ae96d1783c"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#ae8dd28759e56dbd2ee9bc9ae96d1783c">readMillivolts</a></div><div class="ttdeci">long readMillivolts()</div><div class="ttdoc">Return the most recent ADC measurement of the input voltage. Perform analog to digital conversion on ...</div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00202">teensy3_morse_bsp.cpp:202</a></div></div>
<div class="ttc" id="settings_8cpp_html_a09b2a494a5b9fec41d2cbb6c34484cc0"><div class="ttname"><a href="settings_8cpp.html#a09b2a494a5b9fec41d2cbb6c34484cc0">getAlarmInterval</a></div><div class="ttdeci">uint32_t getAlarmInterval()</div><div class="ttdoc">Set the repetition inteval in seconds of when in the alarm state. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00233">settings.cpp:233</a></div></div>
<div class="ttc" id="settings_8cpp_html_a846e579c0e4875f098993e2a44e44182"><div class="ttname"><a href="settings_8cpp.html#a846e579c0e4875f098993e2a44e44182">getAlarmLowFormat</a></div><div class="ttdeci">const char * getAlarmLowFormat()</div><div class="ttdoc">Get the format of periodic low-voltage alarm messages. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00213">settings.cpp:213</a></div></div>
<div class="ttc" id="settings_8cpp_html_a088799682590552129c153e36ce09a52"><div class="ttname"><a href="settings_8cpp.html#a088799682590552129c153e36ce09a52">getAnnouncementFormat</a></div><div class="ttdeci">const char * getAnnouncementFormat()</div><div class="ttdoc">Get the periodic announcement format. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00209">settings.cpp:209</a></div></div>
<div class="ttc" id="settings_8cpp_html_a960551e90dfdad18f3c9b1338ccba7db"><div class="ttname"><a href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a></div><div class="ttdeci">uint32_t getDitMicros()</div><div class="ttdoc">Get the dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00187">settings.cpp:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad07e1d9a717a212364090e192e951ea5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void push1RestoreAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Push the most recent symbol onto the stack, and then restore all the actions to their previous values. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00071">71</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="stack_8cpp_source.html#l00027">pushSymbolStack()</a>, and <a class="el" href="actions_8cpp_source.html#l00060">restoreActions()</a>.</p>

<p>Referenced by <a class="el" href="pda_8cpp_source.html#l00595">askNext()</a>, and <a class="el" href="pda_8cpp_source.html#l00370">askNextAlfa()</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                      {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(code);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="actions_8cpp.html#af4c12896b2807b2ac63725a650efea6b">restoreActions</a>();</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_af4c12896b2807b2ac63725a650efea6b"><div class="ttname"><a href="actions_8cpp.html#af4c12896b2807b2ac63725a650efea6b">restoreActions</a></div><div class="ttdeci">void restoreActions()</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00060">actions.cpp:60</a></div></div>
<div class="ttc" id="stack_8cpp_html_ae73e1851820a958c7de01c9ed36d1b7c"><div class="ttname"><a href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a></div><div class="ttdeci">void pushSymbolStack(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00027">stack.cpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac48ed1c3e6c7cccae93b47d7e6f2f888"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool readNumber </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>60000000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a non-negative integer from the Serial port. Return true if at least one digit was read before the timeout. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00659">659</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp_source.html#l00614">readEdit()</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00589">readRange()</a>.</p>
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                               {</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordtype">bool</span> isNotTooLate(<span class="keyword">true</span>);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">char</span> buffer[32];</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* e(buffer + <span class="keyword">sizeof</span> buffer - 1);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="actions_8cpp.html#a5082fe1b057ad10a1a5baef95b0c87b8">readEdit</a>(buffer, isNotTooLate, e, isdigit, timeout);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  v = strtoul(buffer, 0, 10);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">return</span> isNotTooLate;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a5082fe1b057ad10a1a5baef95b0c87b8"><div class="ttname"><a href="actions_8cpp.html#a5082fe1b057ad10a1a5baef95b0c87b8">readEdit</a></div><div class="ttdeci">void readEdit(char *buffer, bool &amp;isNotTooLate, const char *end, IntPredicate isIncluded, uint32_t timeout)</div><div class="ttdoc">Read a line from the serial port with support for rubbing out preceding characters. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00614">actions.cpp:614</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a578278ac08b3288454ac5a86fbb15d76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool readRange </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minimum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maximum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompt for a value from the serial port. </p>
<p>If the value read is within the given range, assign it to the result. A true return value indicates a value within range was obtained. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00589">589</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp_source.html#l00659">readNumber()</a>.</p>

<p>Referenced by <a class="el" href="actions_8cpp_source.html#l00735">readEvalPrint()</a>.</p>
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   Serial.print(prompt);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   uint32_t v;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keywordtype">bool</span> gotOne(<a class="code" href="actions_8cpp.html#aa6eb8a5787ae2b2cae45f6df3847c936">readNumber</a>(v));</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keywordtype">bool</span> isInRange(v - minimum &lt;= maximum - minimum);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="keywordflow">if</span> (gotOne) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">if</span> (isInRange) {</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;         result = v;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;         Serial.print(<span class="stringliteral">&quot;\r\nOut of range. Value must be between &quot;</span>);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;         Serial.print(minimum);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;         Serial.print(<span class="stringliteral">&quot; and &quot;</span>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;         Serial.print(maximum);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;         Serial.println(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      Serial.println(<span class="stringliteral">&quot;\r\nInvalid number. Aborting.&quot;</span>);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keywordflow">return</span> gotOne &amp;&amp; isInRange;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_aa6eb8a5787ae2b2cae45f6df3847c936"><div class="ttname"><a href="actions_8cpp.html#aa6eb8a5787ae2b2cae45f6df3847c936">readNumber</a></div><div class="ttdeci">bool readNumber(uint32_t &amp;v, uint32_t timeout)</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00659">actions.cpp:659</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af4c12896b2807b2ac63725a650efea6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restoreActions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If there are actions saved, restore them. Otherwise, transmit an error. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00060">60</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>.</p>

<p>Referenced by <a class="el" href="pda_8cpp_source.html#l00483">getDigitByWeight()</a>, and <a class="el" href="actions_8cpp_source.html#l00071">push1RestoreAll()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                      {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a>) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(0); i &lt; actionSize; ++i) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      actions[i] = savedActions[i];</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a9cfd0adeb55456558a4fcddce4901fc0"><div class="ttname"><a href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a></div><div class="ttdeci">bool restorePending(false)</div></div>
<div class="ttc" id="libmorse_8cpp_html_ab94e088615119d1faae7df22ce50aedf"><div class="ttname"><a href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a></div><div class="ttdeci">void txError()</div><div class="ttdoc">Transmit a Morse code prosign indicating an error. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00114">libmorse.cpp:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa1ebbe304654c025f3f02ea434718884"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saveActions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save all the action pointers in preparation for overwriting some or all of them with action pointers for a mode. If the actions have been saved previously, the actions are not saved and the previously saved actions are not disturbed. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00051">51</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending()</a>.</p>

<p>Referenced by <a class="el" href="pda_8cpp_source.html#l00595">askNext()</a>, <a class="el" href="pda_8cpp_source.html#l00370">askNextAlfa()</a>, and <a class="el" href="pda_8cpp_source.html#l00504">askSum()</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                   {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a>) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(0); i &lt; actionSize; ++i) {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      savedActions[i] = actions[i];</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a9cfd0adeb55456558a4fcddce4901fc0"><div class="ttname"><a href="actions_8cpp.html#a9cfd0adeb55456558a4fcddce4901fc0">restorePending</a></div><div class="ttdeci">bool restorePending(false)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a142b42f94ccf46a7a9706fe9b63b4501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setVolume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to control the output volume but adjusting the PWM duty cycle. </p>
<dl class="section note"><dt>Note</dt><dd>This approach is not terribly effective. Perhaps for lack of proper output filtering. </dd></dl>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00579">579</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="morse__token_8h_source.html#l00073">MorseToken::m2i()</a>, <a class="el" href="stack_8cpp_source.html#l00051">popN()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, and <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                           {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">size_t</span> n(<a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>());</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordtype">size_t</span> dutyCycle(0);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  (2 &lt; n) &amp;&amp; (dutyCycle += 100 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(2).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>());</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  (1 &lt; n) &amp;&amp; (dutyCycle +=  10 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>());</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  (0 &lt; n) &amp;&amp; (dutyCycle +=   1 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>());</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(3 - (2 &lt; n) - (1 &lt; n));</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  setDuty(dutyCycle);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="ttc" id="stack_8cpp_html_a7a8a89da82371dc2324696e7dfacad5e"><div class="ttname"><a href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a></div><div class="ttdeci">void popN(uint8_t n)</div><div class="ttdoc">Pop the stack n times or until it is empty. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00051">stack.cpp:51</a></div></div>
<div class="ttc" id="stack_8cpp_html_abefdfbf9131b5ea5926f9ecbecb6b1e6"><div class="ttname"><a href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a></div><div class="ttdeci">MorseToken s(size_t i)</div><div class="ttdoc">Access the stack using an index where 0 is the top of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00017">stack.cpp:17</a></div></div>
<div class="ttc" id="stack_8cpp_html_aafac4a86d14d59c34565bc295024e511"><div class="ttname"><a href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a></div><div class="ttdeci">size_t symbolStackSize()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00012">stack.cpp:12</a></div></div>
<div class="ttc" id="classMorseToken_html_adbcf2bf93f283c2c69a93dd69d03c38b"><div class="ttname"><a href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">MorseToken::m2i</a></div><div class="ttdeci">uint8_t m2i()</div><div class="ttdoc">Convert Morse 0-9 to the corresponding digit. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00073">morse_token.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84cfecc2ad5d97d5db65575c3a6109b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play a brief high-pitched chirp to signify the end of the waiting period for adding symbols to a token. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00370">370</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="settings_8cpp_source.html#l00179">getDitMicrosDefault()</a>, <a class="el" href="notes_8h_source.html#l00008">noteHz</a>, and <a class="el" href="sound_8cpp_source.html#l00007">playTone()</a>.</p>

<p>Referenced by <a class="el" href="libmorse_8cpp_source.html#l00040">getMorse()</a>, and <a class="el" href="pda_8cpp_source.html#l00419">txMetronome()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a>(<a class="code" href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a>[96], <a class="code" href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a>()/2);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div><div class="ttc" id="settings_8cpp_html_ad02597259b5753e0c98605bce44a9fc8"><div class="ttname"><a href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a></div><div class="ttdeci">uint32_t getDitMicrosDefault()</div><div class="ttdoc">Get the default dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00179">settings.cpp:179</a></div></div>
<div class="ttc" id="sound_8cpp_html_a77ffd11f8a990ba2130061186e49535a"><div class="ttname"><a href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a></div><div class="ttdeci">void playTone(size_t frequency, size_t duration)</div><div class="ttdoc">Play a PWM tone at a given frequency and duration. </div><div class="ttdef"><b>Definition:</b> <a href="sound_8cpp_source.html#l00007">sound.cpp:7</a></div></div>
<div class="ttc" id="notes_8h_html_addffdbab5b0222cd73e02146bf8f9c9e"><div class="ttname"><a href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a></div><div class="ttdeci">const float noteHz[]</div><div class="ttdef"><b>Definition:</b> <a href="notes_8h_source.html#l00008">notes.h:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2f54a5ad42f85a2394de363b9ea12c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txTimeVerbose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transmit the time verbosely. The announcement starts with QRT and repeats the time twice. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00266">266</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                    {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">//               0         1         2</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">//               012345678901234567890</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">char</span> buffer[] = <span class="stringliteral">&quot;QRT QRT HH MM ? HH MM&quot;</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m(minute());</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> h(hour());</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  buffer[8]  = <span class="charliteral">&#39;0&#39;</span> + h / 10;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  buffer[9]  = <span class="charliteral">&#39;0&#39;</span> + h % 10;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  buffer[11] = <span class="charliteral">&#39;0&#39;</span> + m / 10;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  buffer[12] = <span class="charliteral">&#39;0&#39;</span> + m % 10;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  buffer[16] = buffer[8];</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  buffer[17] = buffer[9];</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  buffer[19] = buffer[11];</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  buffer[20] = buffer[12];</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(buffer);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;}</div><div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a65c96858d186454308e53fe7bb3abd07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txTock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play a brief high-pitched chirp to signify the end of the waiting period for adding characters to a word. </p>

<p>Definition at line <a class="el" href="actions_8cpp_source.html#l00380">380</a> of file <a class="el" href="actions_8cpp_source.html">actions.cpp</a>.</p>

<p>References <a class="el" href="teensy3__morse__bsp_8h_source.html#l00073">dahPin</a>, <a class="el" href="teensy3__morse__bsp_8h_source.html#l00070">ditPin</a>, <a class="el" href="settings_8cpp_source.html#l00179">getDitMicrosDefault()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00146">getPinThreshold()</a>, <a class="el" href="notes_8h_source.html#l00008">noteHz</a>, and <a class="el" href="sound_8cpp_source.html#l00007">playTone()</a>.</p>

<p>Referenced by <a class="el" href="libmorse_8cpp_source.html#l00265">matchScore()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00392">rxString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a>(<a class="code" href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a>[84], <a class="code" href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a>()/2);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div><div class="ttc" id="settings_8cpp_html_ad02597259b5753e0c98605bce44a9fc8"><div class="ttname"><a href="settings_8cpp.html#ad02597259b5753e0c98605bce44a9fc8">getDitMicrosDefault</a></div><div class="ttdeci">uint32_t getDitMicrosDefault()</div><div class="ttdoc">Get the default dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00179">settings.cpp:179</a></div></div>
<div class="ttc" id="sound_8cpp_html_a77ffd11f8a990ba2130061186e49535a"><div class="ttname"><a href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a></div><div class="ttdeci">void playTone(size_t frequency, size_t duration)</div><div class="ttdoc">Play a PWM tone at a given frequency and duration. </div><div class="ttdef"><b>Definition:</b> <a href="sound_8cpp_source.html#l00007">sound.cpp:7</a></div></div>
<div class="ttc" id="notes_8h_html_addffdbab5b0222cd73e02146bf8f9c9e"><div class="ttname"><a href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a></div><div class="ttdeci">const float noteHz[]</div><div class="ttdef"><b>Definition:</b> <a href="notes_8h_source.html#l00008">notes.h:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 23 2018 15:40:14 for Didah Morse Code PDA/Appliance by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
