<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Didah Morse Code PDA/Appliance: pda.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Didah Morse Code PDA/Appliance
   &#160;<span id="projectnumber">1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pda.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Personal Digital Assistant functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="libmorse_8h_source.html">libmorse.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pda.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="pda_8h__incl.svg" width="630" height="336"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="pda_8h__dep__incl.svg" width="79" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="pda_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaabb3ac0c23f35a499bc17efe829f326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaabb3ac0c23f35a499bc17efe829f326"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#aaabb3ac0c23f35a499bc17efe829f326">txTimeHHMM</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:aaabb3ac0c23f35a499bc17efe829f326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the 24-hr time. <br /></td></tr>
<tr class="separator:aaabb3ac0c23f35a499bc17efe829f326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a438441140a853c36d2ba4381569742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a9a438441140a853c36d2ba4381569742">pressureTone</a> (uint16_t duration)</td></tr>
<tr class="separator:a9a438441140a853c36d2ba4381569742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1918f8793e7469842e1d30275f6adc62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1918f8793e7469842e1d30275f6adc62"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a1918f8793e7469842e1d30275f6adc62">playScale</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a1918f8793e7469842e1d30275f6adc62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a chromatic scale. <br /></td></tr>
<tr class="separator:a1918f8793e7469842e1d30275f6adc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c36576745952735f04eaa82b933e6fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c36576745952735f04eaa82b933e6fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a3c36576745952735f04eaa82b933e6fa">playSoundEffect</a> (<a class="el" href="classMorseToken.html">MorseToken</a> cord)</td></tr>
<tr class="memdesc:a3c36576745952735f04eaa82b933e6fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play one of 10 sound effects based on the digit on the stack. <br /></td></tr>
<tr class="separator:a3c36576745952735f04eaa82b933e6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d0b57846aa0f585f9409957bc1957e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a35d0b57846aa0f585f9409957bc1957e">playNote</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:a35d0b57846aa0f585f9409957bc1957e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94891bb187b8950df84d7300cad18c5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#ab94891bb187b8950df84d7300cad18c5">durationDits</a> (char a)</td></tr>
<tr class="separator:ab94891bb187b8950df84d7300cad18c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5875d17f5eb7a7cb45b34d772ea743d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a5875d17f5eb7a7cb45b34d772ea743d8">txAlphabetSong</a> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:a5875d17f5eb7a7cb45b34d772ea743d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f9ea31ffc81530ac4a07fa2469f13c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1f9ea31ffc81530ac4a07fa2469f13c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>txAlfaBravoCharlie</b> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:ac1f9ea31ffc81530ac4a07fa2469f13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd009062f812f3b3cd8a682e6e670dd8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd009062f812f3b3cd8a682e6e670dd8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>txAlfaNNN</b> (<a class="el" href="classMorseToken.html">MorseToken</a> code)</td></tr>
<tr class="separator:abd009062f812f3b3cd8a682e6e670dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2e0c8c523ed9ddee8a9194c9800b99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#abf2e0c8c523ed9ddee8a9194c9800b99">askSum</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:abf2e0c8c523ed9ddee8a9194c9800b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59acff867d89a88cb2142895d95b12e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a59acff867d89a88cb2142895d95b12e8">gradeSum</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a59acff867d89a88cb2142895d95b12e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc125d402fe76077cb4d166ac0fbf7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a1dc125d402fe76077cb4d166ac0fbf7a">askNext</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a1dc125d402fe76077cb4d166ac0fbf7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5218392624b017b817b80d6b16ea920d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#a5218392624b017b817b80d6b16ea920d">askNextAlfa</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a5218392624b017b817b80d6b16ea920d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15825e7325bc5cdbd18cf2c6055baef1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15825e7325bc5cdbd18cf2c6055baef1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>gradeRestore</b> (<a class="el" href="classMorseToken.html">MorseToken</a> answer)</td></tr>
<tr class="separator:a15825e7325bc5cdbd18cf2c6055baef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959876507019ccc24303937cc277bb31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a959876507019ccc24303937cc277bb31"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>gradeNext</b> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:a959876507019ccc24303937cc277bb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee08a527408a7a8a4b5490d13b767cb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pda_8h.html#aee08a527408a7a8a4b5490d13b767cb2">txMetronome</a> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:aee08a527408a7a8a4b5490d13b767cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3c77bbaeda68253d8795c44bb0b4ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba3c77bbaeda68253d8795c44bb0b4ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sumStack</b> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:aba3c77bbaeda68253d8795c44bb0b4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9e42a6b6df607546b8d0951e5c5b99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab9e42a6b6df607546b8d0951e5c5b99"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>guitarTune</b> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:aab9e42a6b6df607546b8d0951e5c5b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a20648c501e91918c9c2b7bdda1e18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7a20648c501e91918c9c2b7bdda1e18"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setAlarm</b> (<a class="el" href="classMorseToken.html">MorseToken</a>)</td></tr>
<tr class="separator:aa7a20648c501e91918c9c2b7bdda1e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Personal Digital Assistant functions. </p>

<p>Definition in file <a class="el" href="pda_8h_source.html">pda.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1dc125d402fe76077cb4d166ac0fbf7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void askNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prompt with a random letter of the alphabet. The user enters the letter then enters I to get graded. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00595">595</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp_source.html#l00039">assignAction()</a>, <a class="el" href="stack_8cpp_source.html#l00033">popSymbolStack()</a>, <a class="el" href="actions_8cpp_source.html#l00071">push1RestoreAll()</a>, <a class="el" href="stack_8cpp_source.html#l00027">pushSymbolStack()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="actions_8cpp_source.html#l00051">saveActions()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>, and <a class="el" href="actions_8cpp_source.html#l00242">txSymbolStackTop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                         {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   uint8_t a(random(26));</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <span class="keywordtype">char</span> buffer[3] = { char(a + <span class="charliteral">&#39;A&#39;</span>), 0 };</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(buffer);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   uint8_t b((a + 1) % 26);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(b + <span class="charliteral">&#39;A&#39;</span>, MorseToken::Char));</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <a class="code" href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(<span class="charliteral">&#39;I&#39;</span>, MorseToken::Char), gradeNext);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a>();</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(<span class="charliteral">&#39;A&#39;</span>); i &lt;= <span class="charliteral">&#39;Z&#39;</span> ; ++i) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <a class="code" href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(i, MorseToken::Char), <a class="code" href="actions_8cpp.html#ad07e1d9a717a212364090e192e951ea5">push1RestoreAll</a>);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a76e8c23475fa40e7d5504df1379711d8"><div class="ttname"><a href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a></div><div class="ttdeci">void assignAction(MorseToken code, ActionFn action)</div><div class="ttdoc">Hash a Morse code symbol to a table location and store action there. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00039">actions.cpp:39</a></div></div>
<div class="ttc" id="actions_8cpp_html_aa1ebbe304654c025f3f02ea434718884"><div class="ttname"><a href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a></div><div class="ttdeci">void saveActions()</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00051">actions.cpp:51</a></div></div>
<div class="ttc" id="actions_8cpp_html_ad07e1d9a717a212364090e192e951ea5"><div class="ttname"><a href="actions_8cpp.html#ad07e1d9a717a212364090e192e951ea5">push1RestoreAll</a></div><div class="ttdeci">void push1RestoreAll(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00071">actions.cpp:71</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
<div class="ttc" id="stack_8cpp_html_ae73e1851820a958c7de01c9ed36d1b7c"><div class="ttname"><a href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a></div><div class="ttdeci">void pushSymbolStack(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00027">stack.cpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5218392624b017b817b80d6b16ea920d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void askNextAlfa </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a little harder than askNext in that the extra letters can be distracting, but it is a little easier because there's more context. I expect that for beginners, the former is easier, but for intermediates, the latter is good practice. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00370">370</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp_source.html#l00039">assignAction()</a>, <a class="el" href="actions_8cpp_source.html#l00071">push1RestoreAll()</a>, <a class="el" href="stack_8cpp_source.html#l00027">pushSymbolStack()</a>, and <a class="el" href="actions_8cpp_source.html#l00051">saveActions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                             {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   uint8_t a(random(26));</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   txAlfaBravoCharlie(<a class="code" href="classMorseToken.html">MorseToken</a>(a + <span class="charliteral">&#39;A&#39;</span>, MorseToken::Char));</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   uint8_t b((a + 1) % 26);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(b + <span class="charliteral">&#39;A&#39;</span>, MorseToken::Char));</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <a class="code" href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(<span class="charliteral">&#39;I&#39;</span>, MorseToken::Char), gradeNext);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a>();</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(<span class="charliteral">&#39;A&#39;</span>); i &lt;= <span class="charliteral">&#39;Z&#39;</span> ; ++i) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(i, MorseToken::Char), <a class="code" href="actions_8cpp.html#ad07e1d9a717a212364090e192e951ea5">push1RestoreAll</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a76e8c23475fa40e7d5504df1379711d8"><div class="ttname"><a href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a></div><div class="ttdeci">void assignAction(MorseToken code, ActionFn action)</div><div class="ttdoc">Hash a Morse code symbol to a table location and store action there. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00039">actions.cpp:39</a></div></div>
<div class="ttc" id="actions_8cpp_html_aa1ebbe304654c025f3f02ea434718884"><div class="ttname"><a href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a></div><div class="ttdeci">void saveActions()</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00051">actions.cpp:51</a></div></div>
<div class="ttc" id="actions_8cpp_html_ad07e1d9a717a212364090e192e951ea5"><div class="ttname"><a href="actions_8cpp.html#ad07e1d9a717a212364090e192e951ea5">push1RestoreAll</a></div><div class="ttdeci">void push1RestoreAll(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00071">actions.cpp:71</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
<div class="ttc" id="stack_8cpp_html_ae73e1851820a958c7de01c9ed36d1b7c"><div class="ttname"><a href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a></div><div class="ttdeci">void pushSymbolStack(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00027">stack.cpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf2e0c8c523ed9ddee8a9194c9800b99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void askSum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Present a simple challenge consisting of two random digits to add. The user tries to enter the last digit of their sum. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00504">504</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="actions_8cpp_source.html#l00039">assignAction()</a>, <a class="el" href="pda_8cpp_source.html#l00483">getDigitByWeight()</a>, <a class="el" href="stack_8cpp_source.html#l00027">pushSymbolStack()</a>, <a class="el" href="actions_8cpp_source.html#l00051">saveActions()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   uint8_t a(<a class="code" href="pda_8cpp.html#a79dd5e229b0bf72c859eb5449952bc1a">getDigitByWeight</a>());</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   uint8_t b(<a class="code" href="pda_8cpp.html#a79dd5e229b0bf72c859eb5449952bc1a">getDigitByWeight</a>());</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordtype">char</span> buffer[3] = { char(a + <span class="charliteral">&#39;0&#39;</span>), char(b + <span class="charliteral">&#39;0&#39;</span>), 0 };</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(buffer);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(buffer[0], MorseToken::Char));</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <a class="code" href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(buffer[1], MorseToken::Char));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <a class="code" href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a>();</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i(<span class="charliteral">&#39;0&#39;</span>); i &lt;= <span class="charliteral">&#39;9&#39;</span> ; ++i) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <a class="code" href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a>(<a class="code" href="classMorseToken.html">MorseToken</a>(i, MorseToken::Char), gradeRestore);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="ttc" id="actions_8cpp_html_a76e8c23475fa40e7d5504df1379711d8"><div class="ttname"><a href="actions_8cpp.html#a76e8c23475fa40e7d5504df1379711d8">assignAction</a></div><div class="ttdeci">void assignAction(MorseToken code, ActionFn action)</div><div class="ttdoc">Hash a Morse code symbol to a table location and store action there. </div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00039">actions.cpp:39</a></div></div>
<div class="ttc" id="actions_8cpp_html_aa1ebbe304654c025f3f02ea434718884"><div class="ttname"><a href="actions_8cpp.html#aa1ebbe304654c025f3f02ea434718884">saveActions</a></div><div class="ttdeci">void saveActions()</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00051">actions.cpp:51</a></div></div>
<div class="ttc" id="pda_8cpp_html_a79dd5e229b0bf72c859eb5449952bc1a"><div class="ttname"><a href="pda_8cpp.html#a79dd5e229b0bf72c859eb5449952bc1a">getDigitByWeight</a></div><div class="ttdeci">uint8_t getDigitByWeight()</div><div class="ttdef"><b>Definition:</b> <a href="pda_8cpp_source.html#l00483">pda.cpp:483</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
<div class="ttc" id="stack_8cpp_html_ae73e1851820a958c7de01c9ed36d1b7c"><div class="ttname"><a href="stack_8cpp.html#ae73e1851820a958c7de01c9ed36d1b7c">pushSymbolStack</a></div><div class="ttdeci">void pushSymbolStack(MorseToken code)</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00027">stack.cpp:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab94891bb187b8950df84d7300cad18c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t durationDits </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the duration of the Morse code for the given character in dits. E.g. an E would return 2; and an N would return 6. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00272">272</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="libmorse_8h_source.html#l00019">dahFactor</a>, <a class="el" href="libmorse_8h_source.html#l00016">ditFactor</a>, <a class="el" href="morse__token_8h_source.html#l00022">MORSE_MSB</a>, and <a class="el" href="libmorse_8h_source.html#l00025">wordGapFactor</a>.</p>

<p>Referenced by <a class="el" href="pda_8cpp_source.html#l00289">txAlphabetSong()</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                             {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordflow">if</span> (a == <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="libmorse_8h.html#a030f96d2cadb08715e95bd94f14f3f3d">wordGapFactor</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      uint8_t code(<a class="code" href="classMorseToken.html">MorseToken</a>(a, MorseToken::Char));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      uint8_t count(0);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">while</span> (code != <a class="code" href="morse__token_8h.html#a484390b6f58586fc06fb29592a94df25">MORSE_MSB</a>) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;         count += ((code &amp; <a class="code" href="morse__token_8h.html#a484390b6f58586fc06fb29592a94df25">MORSE_MSB</a>) ? <a class="code" href="libmorse_8h.html#ad05edce77935802b06e61c72adcbf1ca">dahFactor</a> : <a class="code" href="libmorse_8h.html#a88047b029a5d96bee7f6bb2406b4597a">ditFactor</a>) + <a class="code" href="libmorse_8h.html#a88047b029a5d96bee7f6bb2406b4597a">ditFactor</a>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;         code &lt;&lt;= 1;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="morse__token_8h_html_a484390b6f58586fc06fb29592a94df25"><div class="ttname"><a href="morse__token_8h.html#a484390b6f58586fc06fb29592a94df25">MORSE_MSB</a></div><div class="ttdeci">#define MORSE_MSB</div><div class="ttdoc">Mask for the high order bit of a MorseToken field. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00022">morse_token.h:22</a></div></div>
<div class="ttc" id="libmorse_8h_html_ad05edce77935802b06e61c72adcbf1ca"><div class="ttname"><a href="libmorse_8h.html#ad05edce77935802b06e61c72adcbf1ca">dahFactor</a></div><div class="ttdeci">const int dahFactor</div><div class="ttdoc">The dah duration is this factor times the dit duration. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8h_source.html#l00019">libmorse.h:19</a></div></div>
<div class="ttc" id="libmorse_8h_html_a88047b029a5d96bee7f6bb2406b4597a"><div class="ttname"><a href="libmorse_8h.html#a88047b029a5d96bee7f6bb2406b4597a">ditFactor</a></div><div class="ttdeci">const int ditFactor</div><div class="ttdoc">A dit lasts one unit of time. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8h_source.html#l00016">libmorse.h:16</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
<div class="ttc" id="libmorse_8h_html_a030f96d2cadb08715e95bd94f14f3f3d"><div class="ttname"><a href="libmorse_8h.html#a030f96d2cadb08715e95bd94f14f3f3d">wordGapFactor</a></div><div class="ttdeci">const int wordGapFactor</div><div class="ttdoc">The inter-word gap is this factor times the dit duration. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8h_source.html#l00025">libmorse.h:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59acff867d89a88cb2142895d95b12e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gradeSum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The top three entries on the stack are two digits to add and their proported sum mod 10. Transmit Y/N to indicate whether or not the sum is correct. If the sum is not correct, transmit the correct sum. Update the weights to bias future random number selection. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00521">521</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="pda_8cpp_source.html#l00468">digitErr</a>, <a class="el" href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount()</a>, <a class="el" href="morse__token_8cpp_source.html#l00115">m2i()</a>, <a class="el" href="stack_8cpp_source.html#l00051">popN()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>.</p>

<p>Referenced by <a class="el" href="pda_8cpp_source.html#l00483">getDigitByWeight()</a>.</p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                          {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (2 &lt; <a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>()) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    uint8_t s1(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).<a class="code" href="morse__token_8cpp.html#a9ec0688da83c93d634e79b2d7ad7ad64">m2i</a>());</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    uint8_t s2(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(2).<a class="code" href="morse__token_8cpp.html#a9ec0688da83c93d634e79b2d7ad7ad64">m2i</a>());</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    uint8_t s0(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).toChar());</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    uint8_t sum((s1 + s2) % 10);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    Serial.print(s2);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    Serial.print(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    Serial.print(s1);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    Serial.print(<span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    Serial.print(s0);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    Serial.print(<span class="stringliteral">&quot; sum: &quot;</span>);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    Serial.println(sum);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">bool</span> correct(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).<a class="code" href="morse__token_8cpp.html#a9ec0688da83c93d634e79b2d7ad7ad64">m2i</a>() == sum);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (correct) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(<span class="stringliteral">&quot;Y&quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="comment">// Decrease the error counts associated with the digits the user</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="comment">// just added incorrectly, taking care not to underflow.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      uint8_t d1(!!<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1]);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      uint8_t d2(!!<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2]);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1] -= d1; </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2] -= d2;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <a class="code" href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount</a> -= (d1 + d2);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      Serial.print(<span class="stringliteral">&quot;Decrementing &quot;</span>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      Serial.print(s1);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      Serial.print(<span class="stringliteral">&quot;. New weight is: &quot;</span>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      Serial.println(<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1]);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      Serial.print(<span class="stringliteral">&quot;Decrementing &quot;</span>);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      Serial.print(s2);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      Serial.print(<span class="stringliteral">&quot;. New weight is: &quot;</span>);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      Serial.println(<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2]);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">//            012345678901</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordtype">char</span> buffer[] = <span class="stringliteral">&quot;N  a + b = c&quot;</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      buffer[3] = s2 + <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      buffer[7] = s1 + <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      buffer[11] = sum + <span class="charliteral">&#39;0&#39;</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(buffer);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="comment">// Increase the error counts associated with the digits the user</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="comment">// just added incorrectly, taking care not to overflow.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      uint8_t d1(3 * (<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1] - 3 &lt; 255));</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      uint8_t d2(3 * (<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2] - 3 &lt; 255));</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1] += d1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2] += d2;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount</a> += d1 + d2;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      Serial.print(<span class="stringliteral">&quot;Incrementing &quot;</span>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      Serial.print(s1);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      Serial.print(<span class="stringliteral">&quot;. New weight is: &quot;</span>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      Serial.println(<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1]);</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      Serial.print(<span class="stringliteral">&quot;Incrementing &quot;</span>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      Serial.print(s2);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      Serial.print(<span class="stringliteral">&quot;. New weight is: &quot;</span>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      Serial.println(<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2]);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">// If the user plays long enough without a reset to saturate two</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// of the digits chosen at random, divide all the error counts</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">// by 2.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s1] == 255 &amp;&amp; <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[s2] == 255) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">for</span> (uint8_t i(0); i &lt; 10; ++i) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a>[i] &lt;&lt;= 1;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount</a> &lt;&lt;= 1;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      Serial.println(<span class="stringliteral">&quot;Halving all weights.&quot;</span>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    Serial.print(<span class="stringliteral">&quot;Digit error count is: &quot;</span>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    Serial.println(<a class="code" href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount</a>);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(3);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="ttc" id="stack_8cpp_html_a7a8a89da82371dc2324696e7dfacad5e"><div class="ttname"><a href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a></div><div class="ttdeci">void popN(uint8_t n)</div><div class="ttdoc">Pop the stack n times or until it is empty. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00051">stack.cpp:51</a></div></div>
<div class="ttc" id="stack_8cpp_html_abefdfbf9131b5ea5926f9ecbecb6b1e6"><div class="ttname"><a href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a></div><div class="ttdeci">MorseToken s(size_t i)</div><div class="ttdoc">Access the stack using an index where 0 is the top of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00017">stack.cpp:17</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_ab94e088615119d1faae7df22ce50aedf"><div class="ttname"><a href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a></div><div class="ttdeci">void txError()</div><div class="ttdoc">Transmit a Morse code prosign indicating an error. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00114">libmorse.cpp:114</a></div></div>
<div class="ttc" id="stack_8cpp_html_aafac4a86d14d59c34565bc295024e511"><div class="ttname"><a href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a></div><div class="ttdeci">size_t symbolStackSize()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00012">stack.cpp:12</a></div></div>
<div class="ttc" id="pda_8cpp_html_a1a806231b654cc29df4a12c73249b662"><div class="ttname"><a href="pda_8cpp.html#a1a806231b654cc29df4a12c73249b662">digitErrCount</a></div><div class="ttdeci">uint16_t digitErrCount(9)</div></div>
<div class="ttc" id="pda_8cpp_html_a4d671324f04ca8f99b4b0f819c39a607"><div class="ttname"><a href="pda_8cpp.html#a4d671324f04ca8f99b4b0f819c39a607">digitErr</a></div><div class="ttdeci">uint8_t digitErr[10]</div><div class="ttdoc">Histogram of digits for which the user made a mistake. </div><div class="ttdef"><b>Definition:</b> <a href="pda_8cpp_source.html#l00468">pda.cpp:468</a></div></div>
<div class="ttc" id="morse__token_8cpp_html_a9ec0688da83c93d634e79b2d7ad7ad64"><div class="ttname"><a href="morse__token_8cpp.html#a9ec0688da83c93d634e79b2d7ad7ad64">m2i</a></div><div class="ttdeci">uint8_t m2i(MorseToken m)</div><div class="ttdoc">Convert Morse 0-9 to the corresponding digit. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8cpp_source.html#l00115">morse_token.cpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35d0b57846aa0f585f9409957bc1957e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void playNote </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the top two elements of the stack are digits, convert them to a number between 0-99 inclusive. Play the corresponding note. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00260">260</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="settings_8cpp_source.html#l00187">getDitMicros()</a>, <a class="el" href="notes_8h_source.html#l00008">noteHz</a>, <a class="el" href="sound_8cpp_source.html#l00007">playTone()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00170">txUnsigned()</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                          {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (1 &lt; <a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>() &amp;&amp; isdigit(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).toChar()) &amp;&amp; isdigit(<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).toChar())) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordtype">size_t</span> note(10 * (<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).toChar() - <span class="charliteral">&#39;0&#39;</span>) + (<a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).toChar() - <span class="charliteral">&#39;0&#39;</span>));</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a>(<a class="code" href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a>[note] + 0.5, <a class="code" href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a>() * 60);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="libmorse_8cpp.html#a47abdd74b66d7180c47d192bab8bdccb">txUnsigned</a>(note);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="stack_8cpp_html_abefdfbf9131b5ea5926f9ecbecb6b1e6"><div class="ttname"><a href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a></div><div class="ttdeci">MorseToken s(size_t i)</div><div class="ttdoc">Access the stack using an index where 0 is the top of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00017">stack.cpp:17</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_ab94e088615119d1faae7df22ce50aedf"><div class="ttname"><a href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a></div><div class="ttdeci">void txError()</div><div class="ttdoc">Transmit a Morse code prosign indicating an error. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00114">libmorse.cpp:114</a></div></div>
<div class="ttc" id="stack_8cpp_html_aafac4a86d14d59c34565bc295024e511"><div class="ttname"><a href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a></div><div class="ttdeci">size_t symbolStackSize()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00012">stack.cpp:12</a></div></div>
<div class="ttc" id="sound_8cpp_html_a77ffd11f8a990ba2130061186e49535a"><div class="ttname"><a href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a></div><div class="ttdeci">void playTone(size_t frequency, size_t duration)</div><div class="ttdoc">Play a PWM tone at a given frequency and duration. </div><div class="ttdef"><b>Definition:</b> <a href="sound_8cpp_source.html#l00007">sound.cpp:7</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a47abdd74b66d7180c47d192bab8bdccb"><div class="ttname"><a href="libmorse_8cpp.html#a47abdd74b66d7180c47d192bab8bdccb">txUnsigned</a></div><div class="ttdeci">void txUnsigned(uint16_t n)</div><div class="ttdoc">Transmit an unsigned integer in Morse code. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00170">libmorse.cpp:170</a></div></div>
<div class="ttc" id="notes_8h_html_addffdbab5b0222cd73e02146bf8f9c9e"><div class="ttname"><a href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a></div><div class="ttdeci">const float noteHz[]</div><div class="ttdef"><b>Definition:</b> <a href="notes_8h_source.html#l00008">notes.h:8</a></div></div>
<div class="ttc" id="settings_8cpp_html_a960551e90dfdad18f3c9b1338ccba7db"><div class="ttname"><a href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a></div><div class="ttdeci">uint32_t getDitMicros()</div><div class="ttdoc">Get the dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00187">settings.cpp:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a438441140a853c36d2ba4381569742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pressureTone </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play a series of tones randomly bounded by the reading of the dit pin. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00111">111</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="teensy3__morse__bsp_8h_source.html#l00070">ditPin</a>, and <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00330">dWrite()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                     {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  elapsedMicros t(0);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">while</span> (t &lt; duration) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(1); i &lt; 50; ++i) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="teensy3__morse__bsp_8cpp.html#ad27c6a4654c91038ad6d6dbf03b00ddb">dWrite</a>(HIGH);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      delayMicroseconds((500 + random(log(touchRead(<a class="code" href="teensy3__morse__bsp_8h.html#a7dfdb474e15d2999d01fd0018d83ea68">ditPin</a>)))));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="teensy3__morse__bsp_8cpp.html#ad27c6a4654c91038ad6d6dbf03b00ddb">dWrite</a>(LOW);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      delayMicroseconds((500 + random(log(touchRead(<a class="code" href="teensy3__morse__bsp_8h.html#a7dfdb474e15d2999d01fd0018d83ea68">ditPin</a>)))));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="teensy3__morse__bsp_8h_html_a7dfdb474e15d2999d01fd0018d83ea68"><div class="ttname"><a href="teensy3__morse__bsp_8h.html#a7dfdb474e15d2999d01fd0018d83ea68">ditPin</a></div><div class="ttdeci">const int ditPin</div><div class="ttdoc">A touchRead() pin. Auto-repeats a dit. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8h_source.html#l00070">teensy3_morse_bsp.h:70</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_ad27c6a4654c91038ad6d6dbf03b00ddb"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#ad27c6a4654c91038ad6d6dbf03b00ddb">dWrite</a></div><div class="ttdeci">void dWrite(int value)</div><div class="ttdoc">Perform digital writes to all the output pins. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00330">teensy3_morse_bsp.cpp:330</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5875d17f5eb7a7cb45b34d772ea743d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txAlphabetSong </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Play the A.B.C's with each single syllable letter replaced by the corresponding Morse code. W is transmitted once for each syllable. After Z, the remainder of the song is played as simple tones. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00289">289</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="pda_8cpp_source.html#l00272">durationDits()</a>, <a class="el" href="settings_8cpp_source.html#l00187">getDitMicros()</a>, <a class="el" href="settings_8cpp_source.html#l00120">getTxHz()</a>, <a class="el" href="morse__token_8h_source.html#l00073">MorseToken::m2i()</a>, <a class="el" href="morse__token_8cpp_source.html#l00115">m2i()</a>, <a class="el" href="notes_8h_source.html#l00008">noteHz</a>, <a class="el" href="sound_8cpp_source.html#l00007">playTone()</a>, <a class="el" href="stack_8cpp_source.html#l00051">popN()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="settings_8cpp_source.html#l00183">setDitMicros()</a>, <a class="el" href="settings_8cpp_source.html#l00124">setTxHz()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00208">txString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  uint32_t saveHz(<a class="code" href="settings_8cpp.html#a8575b9b52638114a4f32d1462cf9b7c1">getTxHz</a>());</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordtype">int</span> saveDitMicros(<a class="code" href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a>());</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* letters(<span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWWWXY Z &quot;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>*</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    notes(<span class="stringliteral">&quot;C42C42G42G42&quot;</span> <span class="stringliteral">&quot;A52A52G44&quot;</span> <span class="stringliteral">&quot;F42F42E42E42&quot;</span> <span class="stringliteral">&quot;D41D41D41D41C44&quot;</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="stringliteral">&quot;G42G42F44&quot;</span>    <span class="stringliteral">&quot;E42E42D44&quot;</span> <span class="stringliteral">&quot;G41G41G42F44&quot;</span> <span class="stringliteral">&quot;E42E42D44&quot;</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="stringliteral">&quot;C42C42G42G42&quot;</span> <span class="stringliteral">&quot;A52A52G44&quot;</span> <span class="stringliteral">&quot;F42F42E42E42&quot;</span> <span class="stringliteral">&quot;D42D42C44&quot;</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordtype">char</span>* l(const_cast&lt;char*&gt;(letters));</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordtype">char</span>* p(const_cast&lt;char*&gt;(notes));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">while</span> (*p) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">size_t</span> steps[] = { 0, 2, 3, 5, 7, 8, 10 };</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">size_t</span> note(steps[p[0] - <span class="charliteral">&#39;A&#39;</span>] + 12 * (p[1]-<span class="charliteral">&#39;0&#39;</span>));</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">size_t</span> frequency(<a class="code" href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a>[note] + 0.5);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">size_t</span> duration(saveDitMicros * (p[2] - <span class="charliteral">&#39;0&#39;</span>) * 2 / 3);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">char</span> buffer[] = { <span class="charliteral">&#39;\0&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;\0&#39;</span> };</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    buffer[0] = l[0];</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (l[1]) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="settings_8cpp.html#af33969eee39a5fffb3ceb43a77772dc9">setTxHz</a>(frequency);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <a class="code" href="settings_8cpp.html#ab053475f1136a97fda0c5cf8db0ca9e0">setDitMicros</a>(duration);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a>(buffer);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      delayMicroseconds((14 * saveDitMicros + 1) -</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            (saveDitMicros * <a class="code" href="pda_8cpp.html#ab94891bb187b8950df84d7300cad18c5">durationDits</a>(l[0])));</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      ++l;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="comment">// This part goes much faster, but it doesn&#39;t convey much</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// information.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a>(frequency, duration);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    p += 3;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <a class="code" href="settings_8cpp.html#af33969eee39a5fffb3ceb43a77772dc9">setTxHz</a>(saveHz);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="settings_8cpp.html#ab053475f1136a97fda0c5cf8db0ca9e0">setDitMicros</a>(saveDitMicros);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="ttc" id="pda_8cpp_html_ab94891bb187b8950df84d7300cad18c5"><div class="ttname"><a href="pda_8cpp.html#ab94891bb187b8950df84d7300cad18c5">durationDits</a></div><div class="ttdeci">uint8_t durationDits(char a)</div><div class="ttdef"><b>Definition:</b> <a href="pda_8cpp_source.html#l00272">pda.cpp:272</a></div></div>
<div class="ttc" id="settings_8cpp_html_a8575b9b52638114a4f32d1462cf9b7c1"><div class="ttname"><a href="settings_8cpp.html#a8575b9b52638114a4f32d1462cf9b7c1">getTxHz</a></div><div class="ttdeci">uint32_t getTxHz()</div><div class="ttdoc">Get the transmission frequency (side tone). </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00120">settings.cpp:120</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_a0ee2308940264ea9ac8e50afc1a4d285"><div class="ttname"><a href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a></div><div class="ttdeci">void txString(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00208">libmorse.cpp:208</a></div></div>
<div class="ttc" id="settings_8cpp_html_af33969eee39a5fffb3ceb43a77772dc9"><div class="ttname"><a href="settings_8cpp.html#af33969eee39a5fffb3ceb43a77772dc9">setTxHz</a></div><div class="ttdeci">void setTxHz(uint32_t Hz)</div><div class="ttdoc">Set the transmission frequency (side tone). </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00124">settings.cpp:124</a></div></div>
<div class="ttc" id="sound_8cpp_html_a77ffd11f8a990ba2130061186e49535a"><div class="ttname"><a href="sound_8cpp.html#a77ffd11f8a990ba2130061186e49535a">playTone</a></div><div class="ttdeci">void playTone(size_t frequency, size_t duration)</div><div class="ttdoc">Play a PWM tone at a given frequency and duration. </div><div class="ttdef"><b>Definition:</b> <a href="sound_8cpp_source.html#l00007">sound.cpp:7</a></div></div>
<div class="ttc" id="notes_8h_html_addffdbab5b0222cd73e02146bf8f9c9e"><div class="ttname"><a href="notes_8h.html#addffdbab5b0222cd73e02146bf8f9c9e">noteHz</a></div><div class="ttdeci">const float noteHz[]</div><div class="ttdef"><b>Definition:</b> <a href="notes_8h_source.html#l00008">notes.h:8</a></div></div>
<div class="ttc" id="settings_8cpp_html_a960551e90dfdad18f3c9b1338ccba7db"><div class="ttname"><a href="settings_8cpp.html#a960551e90dfdad18f3c9b1338ccba7db">getDitMicros</a></div><div class="ttdeci">uint32_t getDitMicros()</div><div class="ttdoc">Get the dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00187">settings.cpp:187</a></div></div>
<div class="ttc" id="settings_8cpp_html_ab053475f1136a97fda0c5cf8db0ca9e0"><div class="ttname"><a href="settings_8cpp.html#ab053475f1136a97fda0c5cf8db0ca9e0">setDitMicros</a></div><div class="ttdeci">void setDitMicros(uint32_t ms)</div><div class="ttdoc">Set the dit duration in microseconds. </div><div class="ttdef"><b>Definition:</b> <a href="settings_8cpp_source.html#l00183">settings.cpp:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee08a527408a7a8a4b5490d13b767cb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txMetronome </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMorseToken.html">MorseToken</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note: Since <a class="el" href="actions_8cpp.html#a40fea7a424d292e239a5e7a8271728ec">txTick()</a> takes a significant amount of time, the fastest the metronome will currently go is 240 bpm. </p>

<p>Definition at line <a class="el" href="pda_8cpp_source.html#l00419">419</a> of file <a class="el" href="pda_8cpp_source.html">pda.cpp</a>.</p>

<p>References <a class="el" href="teensy3__morse__bsp_8h_source.html#l00073">dahPin</a>, <a class="el" href="settings_8cpp_source.html#l00187">getDitMicros()</a>, <a class="el" href="morse__token_8h_source.html#l00073">MorseToken::m2i()</a>, <a class="el" href="notes_8h_source.html#l00008">noteHz</a>, <a class="el" href="sound_8cpp_source.html#l00007">playTone()</a>, <a class="el" href="stack_8cpp_source.html#l00051">popN()</a>, <a class="el" href="stack_8cpp_source.html#l00017">s()</a>, <a class="el" href="stack_8cpp_source.html#l00012">symbolStackSize()</a>, <a class="el" href="teensy3__morse__bsp_8cpp_source.html#l00152">touchPoll()</a>, <a class="el" href="libmorse_8cpp_source.html#l00114">txError()</a>, <a class="el" href="actions_8cpp_source.html#l00370">txTick()</a>, and <a class="el" href="libmorse_8cpp_source.html#l00170">txUnsigned()</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                             {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  uint8_t bpm(60);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a>()) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">case</span> 3: </div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    bpm = 100 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(2).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>() + 10 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>() + <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>();</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(3);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">case</span> 2: </div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    bpm = 10 * <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(1).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>() + <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>();</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(2);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">case</span> 1:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    bpm = <a class="code" href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>(0).<a class="code" href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">m2i</a>();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a>(1);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a>();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  uint32_t timeout(60 * 1000000 / bpm);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  elapsedMicros sinceTick(0);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="teensy3__morse__bsp_8cpp.html#ab306f692c5c9455a0c82782a67ff0147">touchPoll</a>(<a class="code" href="teensy3__morse__bsp_8h.html#a6036abb02500d6edb26b1ba860014f9d">dahPin</a>)) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (timeout &lt; sinceTick) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      sinceTick = 0;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="actions_8cpp.html#a40fea7a424d292e239a5e7a8271728ec">txTick</a>(<a class="code" href="classMorseToken.html">MorseToken</a>());</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div><div class="ttc" id="stack_8cpp_html_a7a8a89da82371dc2324696e7dfacad5e"><div class="ttname"><a href="stack_8cpp.html#a7a8a89da82371dc2324696e7dfacad5e">popN</a></div><div class="ttdeci">void popN(uint8_t n)</div><div class="ttdoc">Pop the stack n times or until it is empty. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00051">stack.cpp:51</a></div></div>
<div class="ttc" id="stack_8cpp_html_abefdfbf9131b5ea5926f9ecbecb6b1e6"><div class="ttname"><a href="stack_8cpp.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a></div><div class="ttdeci">MorseToken s(size_t i)</div><div class="ttdoc">Access the stack using an index where 0 is the top of the stack. </div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00017">stack.cpp:17</a></div></div>
<div class="ttc" id="actions_8cpp_html_a40fea7a424d292e239a5e7a8271728ec"><div class="ttname"><a href="actions_8cpp.html#a40fea7a424d292e239a5e7a8271728ec">txTick</a></div><div class="ttdeci">void txTick(MorseToken)</div><div class="ttdef"><b>Definition:</b> <a href="actions_8cpp_source.html#l00370">actions.cpp:370</a></div></div>
<div class="ttc" id="libmorse_8cpp_html_ab94e088615119d1faae7df22ce50aedf"><div class="ttname"><a href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a></div><div class="ttdeci">void txError()</div><div class="ttdoc">Transmit a Morse code prosign indicating an error. </div><div class="ttdef"><b>Definition:</b> <a href="libmorse_8cpp_source.html#l00114">libmorse.cpp:114</a></div></div>
<div class="ttc" id="stack_8cpp_html_aafac4a86d14d59c34565bc295024e511"><div class="ttname"><a href="stack_8cpp.html#aafac4a86d14d59c34565bc295024e511">symbolStackSize</a></div><div class="ttdeci">size_t symbolStackSize()</div><div class="ttdef"><b>Definition:</b> <a href="stack_8cpp_source.html#l00012">stack.cpp:12</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8cpp_html_ab306f692c5c9455a0c82782a67ff0147"><div class="ttname"><a href="teensy3__morse__bsp_8cpp.html#ab306f692c5c9455a0c82782a67ff0147">touchPoll</a></div><div class="ttdeci">bool touchPoll(uint8_t pin)</div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8cpp_source.html#l00152">teensy3_morse_bsp.cpp:152</a></div></div>
<div class="ttc" id="teensy3__morse__bsp_8h_html_a6036abb02500d6edb26b1ba860014f9d"><div class="ttname"><a href="teensy3__morse__bsp_8h.html#a6036abb02500d6edb26b1ba860014f9d">dahPin</a></div><div class="ttdeci">const int dahPin</div><div class="ttdoc">A touchRead() pin. Auto-repeats a dah. </div><div class="ttdef"><b>Definition:</b> <a href="teensy3__morse__bsp_8h_source.html#l00073">teensy3_morse_bsp.h:73</a></div></div>
<div class="ttc" id="classMorseToken_html_adbcf2bf93f283c2c69a93dd69d03c38b"><div class="ttname"><a href="classMorseToken.html#adbcf2bf93f283c2c69a93dd69d03c38b">MorseToken::m2i</a></div><div class="ttdeci">uint8_t m2i()</div><div class="ttdoc">Convert Morse 0-9 to the corresponding digit. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00073">morse_token.h:73</a></div></div>
<div class="ttc" id="classMorseToken_html"><div class="ttname"><a href="classMorseToken.html">MorseToken</a></div><div class="ttdoc">Represents an individual Morse code token, such as a letter, pause, or prosign. </div><div class="ttdef"><b>Definition:</b> <a href="morse__token_8h_source.html#l00040">morse_token.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 23 2018 13:15:12 for Didah Morse Code PDA/Appliance by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
