<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Didah Morse Code PDA/Appliance: libmorse.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="morse.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Didah Morse Code PDA/Appliance
   &#160;<span id="projectnumber">1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('libmorse_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">libmorse.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of Morse code operations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &quot;Arduino.h&quot;</code><br />
<code>#include &quot;<a class="el" href="libmorse_8h_source.html">libmorse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="settings_8h_source.html">settings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stack_8h_source.html">stack.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="actions_8h_source.html">actions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="prosign_8h_source.html">prosign.h</a>&quot;</code><br />
<code>#include &quot;Time.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for libmorse.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="libmorse_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0a5df82161f69ca17641cbd43784e39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#aa0a5df82161f69ca17641cbd43784e39">isIdle</a> ()</td></tr>
<tr class="memdesc:aa0a5df82161f69ca17641cbd43784e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has it been at least 600 word gaps since the last activity?  <a href="#aa0a5df82161f69ca17641cbd43784e39">More...</a><br /></td></tr>
<tr class="separator:aa0a5df82161f69ca17641cbd43784e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647dbf56318dc047df6e087c77f10727"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a647dbf56318dc047df6e087c77f10727">letterExpired</a> ()</td></tr>
<tr class="memdesc:a647dbf56318dc047df6e087c77f10727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if longer than 5 units have elapsed.  <a href="#a647dbf56318dc047df6e087c77f10727">More...</a><br /></td></tr>
<tr class="separator:a647dbf56318dc047df6e087c77f10727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec9b75e50f41e98e97ff42e6fa9ca54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a2ec9b75e50f41e98e97ff42e6fa9ca54">wordExpired</a> ()</td></tr>
<tr class="memdesc:a2ec9b75e50f41e98e97ff42e6fa9ca54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has it been long enough that the word under construction should be considered complete?  <a href="#a2ec9b75e50f41e98e97ff42e6fa9ca54">More...</a><br /></td></tr>
<tr class="separator:a2ec9b75e50f41e98e97ff42e6fa9ca54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a29ea9b7bb06c2d9e8c4d74f486b91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_morse_token.html">MorseToken</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#ac4a29ea9b7bb06c2d9e8c4d74f486b91">getMorse</a> ()</td></tr>
<tr class="memdesc:ac4a29ea9b7bb06c2d9e8c4d74f486b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate a Morse token.  <a href="#ac4a29ea9b7bb06c2d9e8c4d74f486b91">More...</a><br /></td></tr>
<tr class="separator:ac4a29ea9b7bb06c2d9e8c4d74f486b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f000c98271c6d0a7710135e18189bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#ac3f000c98271c6d0a7710135e18189bc">flushTouch</a> ()</td></tr>
<tr class="memdesc:ac3f000c98271c6d0a7710135e18189bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">On my hardware there is cross-coupling between the serial port and the touch sensors. Without the code below, long messages to the serial port trigger a touch input.  <a href="#ac3f000c98271c6d0a7710135e18189bc">More...</a><br /></td></tr>
<tr class="separator:ac3f000c98271c6d0a7710135e18189bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94e088615119d1faae7df22ce50aedf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#ab94e088615119d1faae7df22ce50aedf">txError</a> ()</td></tr>
<tr class="memdesc:ab94e088615119d1faae7df22ce50aedf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit a Morse code prosign indicating an error.  <a href="#ab94e088615119d1faae7df22ce50aedf">More...</a><br /></td></tr>
<tr class="separator:ab94e088615119d1faae7df22ce50aedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817dc726b0c5f8d516c4de0aa92daa19"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a817dc726b0c5f8d516c4de0aa92daa19">m2didah</a> (<a class="el" href="class_morse_token.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a817dc726b0c5f8d516c4de0aa92daa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string of dots and dashes corresponding to code.  <a href="#a817dc726b0c5f8d516c4de0aa92daa19">More...</a><br /></td></tr>
<tr class="separator:a817dc726b0c5f8d516c4de0aa92daa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fdfce728595d72b78dc7c834ab99a40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a9fdfce728595d72b78dc7c834ab99a40">txLiteral</a> (<a class="el" href="class_morse_token.html">MorseToken</a> code)</td></tr>
<tr class="memdesc:a9fdfce728595d72b78dc7c834ab99a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit a literal Morse code value.  <a href="#a9fdfce728595d72b78dc7c834ab99a40">More...</a><br /></td></tr>
<tr class="separator:a9fdfce728595d72b78dc7c834ab99a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4b292f5e412ee4f05aed9dafbc072d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#acd4b292f5e412ee4f05aed9dafbc072d">txLetter</a> (char a)</td></tr>
<tr class="memdesc:acd4b292f5e412ee4f05aed9dafbc072d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an ASCII character into Morse code and transmit it.  <a href="#acd4b292f5e412ee4f05aed9dafbc072d">More...</a><br /></td></tr>
<tr class="separator:acd4b292f5e412ee4f05aed9dafbc072d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47abdd74b66d7180c47d192bab8bdccb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a47abdd74b66d7180c47d192bab8bdccb">txUnsigned</a> (uint16_t n)</td></tr>
<tr class="memdesc:a47abdd74b66d7180c47d192bab8bdccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit an unsigned integer in Morse code.  <a href="#a47abdd74b66d7180c47d192bab8bdccb">More...</a><br /></td></tr>
<tr class="separator:a47abdd74b66d7180c47d192bab8bdccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee2308940264ea9ac8e50afc1a4d285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a0ee2308940264ea9ac8e50afc1a4d285">txString</a> (const char *<a class="el" href="stack_8h.html#abefdfbf9131b5ea5926f9ecbecb6b1e6">s</a>)</td></tr>
<tr class="separator:a0ee2308940264ea9ac8e50afc1a4d285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#afa60f07ebee7c34ef41c3dfb64222bb6">matchScore</a> (const char *pattern)</td></tr>
<tr class="memdesc:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Score the given pattern against the state of the symbol stack.  <a href="#afa60f07ebee7c34ef41c3dfb64222bb6">More...</a><br /></td></tr>
<tr class="separator:afa60f07ebee7c34ef41c3dfb64222bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fad1f4d176afaa89839cc897891e78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a25fad1f4d176afaa89839cc897891e78">rxString</a> (char *buffer, size_t n)</td></tr>
<tr class="separator:a25fad1f4d176afaa89839cc897891e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a321e03deebf4be28bd72581b33805719"><td class="memItemLeft" align="right" valign="top">elapsedMicros&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a321e03deebf4be28bd72581b33805719">sinceTouch</a></td></tr>
<tr class="separator:a321e03deebf4be28bd72581b33805719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4b5f1472e58f67bccad09be3a14427"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a7a4b5f1472e58f67bccad09be3a14427">leftCode</a> = 1</td></tr>
<tr class="separator:a7a4b5f1472e58f67bccad09be3a14427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9b0f3efd6d1c40297f89664a30d67f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libmorse_8cpp.html#a6a9b0f3efd6d1c40297f89664a30d67f">touchCount</a> = 0</td></tr>
<tr class="separator:a6a9b0f3efd6d1c40297f89664a30d67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of Morse code operations. </p>

<p>Definition in file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac3f000c98271c6d0a7710135e18189bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flushTouch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>On my hardware there is cross-coupling between the serial port and the touch sensors. Without the code below, long messages to the serial port trigger a touch input. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00102">102</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ac3f000c98271c6d0a7710135e18189bc_cgraph.svg" width="363" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ac3f000c98271c6d0a7710135e18189bc_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac4a29ea9b7bb06c2d9e8c4d74f486b91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_morse_token.html">MorseToken</a> getMorse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate a Morse token. </p>
<p>If the token is in progress, return an invalid token. If the token is complete, return it. The caller is expected to call this function repeatedly until a token is completed or until the caller decides to stop for some other reason, e.g. timeout.</p>
<p>The two buttons function like an iambic keyer. Since a dit or dah is echoed after it is keyed in, and during this time the application is not listening or buffering, there's no need for additional debouncing logic. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00040">40</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ac4a29ea9b7bb06c2d9e8c4d74f486b91_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ac4a29ea9b7bb06c2d9e8c4d74f486b91_icgraph.svg" width="398" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0a5df82161f69ca17641cbd43784e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isIdle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has it been at least 600 word gaps since the last activity? </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00025">25</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_aa0a5df82161f69ca17641cbd43784e39_cgraph.svg" width="208" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a647dbf56318dc047df6e087c77f10727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool letterExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if longer than 5 units have elapsed. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00030">30</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a647dbf56318dc047df6e087c77f10727_cgraph.svg" width="250" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a817dc726b0c5f8d516c4de0aa92daa19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* m2didah </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_morse_token.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a string of dots and dashes corresponding to code. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00120">120</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afa60f07ebee7c34ef41c3dfb64222bb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t matchScore </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Score the given pattern against the state of the symbol stack. </p>
<p>The maximum score is 255 and decreases with increased distance from the pattern.</p>
<ul>
<li><code>A-Z</code>, <code>0-9</code>, punctuation - Match a literal character </li>
<li><code>^CQ^</code> - Match a prosign </li>
<li>space - Match a word-length or greater pause </li>
<li><code>a</code> - Match a single letter from A-Z </li>
<li><code>c</code> - Match any character </li>
<li><code>d</code> - Match a single digit </li>
<li><code>n</code> - Match a contiguous sequence of digits</li>
</ul>
<p>With the exception of <code>n</code>, all the pattern elements match one Morse token. The following punctuation is accepted: </p><pre class="fragment">!"$&amp;'()+,-./:;=?@_               </pre><p>The pattern is compared to the stack starting at the end of the pattern and the top of the stack. There is no support for backtracking. All pattern elements are greedy. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00265">265</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_afa60f07ebee7c34ef41c3dfb64222bb6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_afa60f07ebee7c34ef41c3dfb64222bb6_icgraph.svg" width="274" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25fad1f4d176afaa89839cc897891e78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rxString </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receive keying into buffer until <em>AR</em> prosign is received, timeout, or buffer full. </p><dl class="section note"><dt>Note</dt><dd>n should be positive. If n == 0, a null will be written to buffer[0] and the function will return immediately. </dd></dl>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00392">392</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a25fad1f4d176afaa89839cc897891e78_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a25fad1f4d176afaa89839cc897891e78_icgraph.svg" width="248" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab94e088615119d1faae7df22ce50aedf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit a Morse code prosign indicating an error. </p>
<p>Transmit a Morse code prosign indicating an error. 8 dits. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00114">114</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ab94e088615119d1faae7df22ce50aedf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_ab94e088615119d1faae7df22ce50aedf_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd4b292f5e412ee4f05aed9dafbc072d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txLetter </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an ASCII character into Morse code and transmit it. </p>
<p>Transmit a Morse code symbol consisting of one letter or number. The ASCII-to-Morse translation table is represented as an implicit binary tree. See the header file for details.</p>
<p>If x is not in the set [A-Z0-9], transmit an 'error' prosign. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00159">159</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_acd4b292f5e412ee4f05aed9dafbc072d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_acd4b292f5e412ee4f05aed9dafbc072d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9fdfce728595d72b78dc7c834ab99a40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txLiteral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_morse_token.html">MorseToken</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit a literal Morse code value. </p>
<p>Transmit a Morse code symbol. The parameter is encoded as a left-justified bit sequence where 0 represents dit and 1 represents dah. Since Morse code symbols vary in length, the code is terminated with a 1 after the right- most token. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00137">137</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a9fdfce728595d72b78dc7c834ab99a40_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a9fdfce728595d72b78dc7c834ab99a40_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ee2308940264ea9ac8e50afc1a4d285"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txString </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transmit a Morse code string. Prosigns are delimited by carets (^), e.g. "^QTR^ 2112". Caret is used instead of underscore so that underscores can be transmitted without quoting them or encoding them somehow.</p>
<p>Several format placeholders are supported.</p>
<ul>
<li>C - Transmit the temperature in degrees Celsius </li>
<li>F - Transmit the temperature in degrees Fahrenheit </li>
<li>T - Transmit the 24-hour time as four-digits </li>
<li>U - Transmit the uptime in quarter hours </li>
<li>V - Transmit the millivolts measured by pin analogInput </li>
<li>%% - Transmit a literal percent sign (not that anyone will understand this obscure Morse code)</li>
</ul>
<p>Abort if the dit key is touched. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00208">208</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a0ee2308940264ea9ac8e50afc1a4d285_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a0ee2308940264ea9ac8e50afc1a4d285_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47abdd74b66d7180c47d192bab8bdccb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void txUnsigned </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit an unsigned integer in Morse code. </p>
<p>Convert an unsigned integer into a sequence of Morse code numerals and transmit them. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00170">170</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a47abdd74b66d7180c47d192bab8bdccb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a47abdd74b66d7180c47d192bab8bdccb_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ec9b75e50f41e98e97ff42e6fa9ca54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wordExpired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Has it been long enough that the word under construction should be considered complete? </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00035">35</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a2ec9b75e50f41e98e97ff42e6fa9ca54_cgraph.svg" width="250" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="libmorse_8cpp_a2ec9b75e50f41e98e97ff42e6fa9ca54_icgraph.svg" width="540" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7a4b5f1472e58f67bccad09be3a14427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t leftCode = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00020">20</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a321e03deebf4be28bd72581b33805719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elapsedMicros sinceTouch</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The end of the user's input is determined by a timeout equal to two times the normal word gap. </p>

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00017">17</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6a9b0f3efd6d1c40297f89664a30d67f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t touchCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="libmorse_8cpp_source.html#l00023">23</a> of file <a class="el" href="libmorse_8cpp_source.html">libmorse.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="libmorse_8cpp.html">libmorse.cpp</a></li>
    <li class="footer">Generated on Fri Apr 20 2018 16:59:05 for Didah Morse Code PDA/Appliance by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
